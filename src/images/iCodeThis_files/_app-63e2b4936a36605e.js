(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{57542:function(e,t,r){"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(l,{createBrowserSupabaseClient:()=>T,createClientComponentClient:()=>c,createMiddlewareClient:()=>b,createMiddlewareSupabaseClient:()=>P,createPagesBrowserClient:()=>h,createPagesServerClient:()=>m,createRouteHandlerClient:()=>C,createServerActionClient:()=>k,createServerComponentClient:()=>E,createServerSupabaseClient:()=>x}),e.exports=((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),l);var u=r(68947);function c({supabaseUrl:e="https://shismqklzntzxworibfn.supabase.co",supabaseKey:t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoaXNtcWtsem50enh3b3JpYmZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyMzUyMDYsImV4cCI6MTk4NTgxMTIwNn0.XCBJSlRT-00o-0zIF3IyYSt1q-slF0UaMzw5S73VQ8k",options:r,cookieOptions:i,isSingleton:s=!0}={}){if(!e||!t)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");let o=()=>{var n;return(0,u.createSupabaseClient)(e,t,{...r,global:{...null==r?void 0:r.global,headers:{...null==(n=null==r?void 0:r.global)?void 0:n.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.7.4"}},auth:{storageKey:null==i?void 0:i.name,storage:new u.BrowserCookieAuthStorageAdapter(i)}})};if(s){let e=n??o();return"undefined"==typeof window?e:(n||(n=e),n)}return o()}var h=c,d=r(68947),f=r(69328),p=class extends d.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;return(0,f.splitCookiesString)((null==(t=this.context.res.getHeader("set-cookie"))?void 0:t.toString())??"").map(t=>(0,d.parseCookies)(t)[e]).find(e=>!!e)??this.context.req.cookies[e]}setCookie(e,t){this._setCookie(e,t)}deleteCookie(e){this._setCookie(e,"",{maxAge:0})}_setCookie(e,t,r){var n;let i=(0,f.splitCookiesString)((null==(n=this.context.res.getHeader("set-cookie"))?void 0:n.toString())??"").filter(t=>!(e in(0,d.parseCookies)(t))),s=(0,d.serializeCookie)(e,t,{...this.cookieOptions,...r,httpOnly:!1});this.context.res.setHeader("set-cookie",[...i,s])}};function m(e,{supabaseUrl:t="https://shismqklzntzxworibfn.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoaXNtcWtsem50enh3b3JpYmZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyMzUyMDYsImV4cCI6MTk4NTgxMTIwNn0.XCBJSlRT-00o-0zIF3IyYSt1q-slF0UaMzw5S73VQ8k",options:n,cookieOptions:i}={}){var s;if(!t||!r)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,d.createSupabaseClient)(t,r,{...n,global:{...null==n?void 0:n.global,headers:{...null==(s=null==n?void 0:n.global)?void 0:s.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.7.4"}},auth:{storageKey:null==i?void 0:i.name,storage:new p(e,i)}})}var y=r(68947),g=r(69328),v=class extends y.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;return(0,g.splitCookiesString)((null==(t=this.context.res.headers.get("set-cookie"))?void 0:t.toString())??"").map(t=>(0,y.parseCookies)(t)[e]).find(e=>!!e)||(0,y.parseCookies)(this.context.req.headers.get("cookie")??"")[e]}setCookie(e,t){this._setCookie(e,t)}deleteCookie(e){this._setCookie(e,"",{maxAge:0})}_setCookie(e,t,r){let n=(0,y.serializeCookie)(e,t,{...this.cookieOptions,...r,httpOnly:!1});this.context.res.headers&&(this.context.res.headers.append("set-cookie",n),this.context.res.headers.append("cookie",n))}};function b(e,{supabaseUrl:t="https://shismqklzntzxworibfn.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoaXNtcWtsem50enh3b3JpYmZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyMzUyMDYsImV4cCI6MTk4NTgxMTIwNn0.XCBJSlRT-00o-0zIF3IyYSt1q-slF0UaMzw5S73VQ8k",options:n,cookieOptions:i}={}){var s;if(!t||!r)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,y.createSupabaseClient)(t,r,{...n,global:{...null==n?void 0:n.global,headers:{...null==(s=null==n?void 0:n.global)?void 0:s.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.7.4"}},auth:{storageKey:null==i?void 0:i.name,storage:new v(e,i)}})}var w=r(68947),_=class extends w.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;return null==(t=this.context.cookies().get(e))?void 0:t.value}setCookie(e,t){}deleteCookie(e){}};function E(e,{supabaseUrl:t="https://shismqklzntzxworibfn.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoaXNtcWtsem50enh3b3JpYmZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyMzUyMDYsImV4cCI6MTk4NTgxMTIwNn0.XCBJSlRT-00o-0zIF3IyYSt1q-slF0UaMzw5S73VQ8k",options:n,cookieOptions:i}={}){var s;if(!t||!r)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,w.createSupabaseClient)(t,r,{...n,global:{...null==n?void 0:n.global,headers:{...null==(s=null==n?void 0:n.global)?void 0:s.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.7.4"}},auth:{storageKey:null==i?void 0:i.name,storage:new _(e,i)}})}var S=r(68947),O=class extends S.CookieAuthStorageAdapter{constructor(e,t){super(t),this.context=e}getCookie(e){var t;return null==(t=this.context.cookies().get(e))?void 0:t.value}setCookie(e,t){this.context.cookies().set(e,t,this.cookieOptions)}deleteCookie(e){this.context.cookies().set(e,"",{maxAge:0})}};function C(e,{supabaseUrl:t="https://shismqklzntzxworibfn.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoaXNtcWtsem50enh3b3JpYmZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyMzUyMDYsImV4cCI6MTk4NTgxMTIwNn0.XCBJSlRT-00o-0zIF3IyYSt1q-slF0UaMzw5S73VQ8k",options:n,cookieOptions:i}={}){var s;if(!t||!r)throw Error("either NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY env variables or supabaseUrl and supabaseKey are required!");return(0,S.createSupabaseClient)(t,r,{...n,global:{...null==n?void 0:n.global,headers:{...null==(s=null==n?void 0:n.global)?void 0:s.headers,"X-Client-Info":"@supabase/auth-helpers-nextjs@0.7.4"}},auth:{storageKey:null==i?void 0:i.name,storage:new O(e,i)}})}var k=C;function T({supabaseUrl:e="https://shismqklzntzxworibfn.supabase.co",supabaseKey:t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoaXNtcWtsem50enh3b3JpYmZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyMzUyMDYsImV4cCI6MTk4NTgxMTIwNn0.XCBJSlRT-00o-0zIF3IyYSt1q-slF0UaMzw5S73VQ8k",options:r,cookieOptions:n}={}){return console.warn("Please utilize the `createPagesBrowserClient` function instead of the deprecated `createBrowserSupabaseClient` function. Learn more: https://supabase.com/docs/guides/auth/auth-helpers/nextjs-pages"),h({supabaseUrl:e,supabaseKey:t,options:r,cookieOptions:n})}function x(e,{supabaseUrl:t="https://shismqklzntzxworibfn.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoaXNtcWtsem50enh3b3JpYmZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyMzUyMDYsImV4cCI6MTk4NTgxMTIwNn0.XCBJSlRT-00o-0zIF3IyYSt1q-slF0UaMzw5S73VQ8k",options:n,cookieOptions:i}={}){return console.warn("Please utilize the `createPagesServerClient` function instead of the deprecated `createServerSupabaseClient` function. Learn more: https://supabase.com/docs/guides/auth/auth-helpers/nextjs-pages"),m(e,{supabaseUrl:t,supabaseKey:r,options:n,cookieOptions:i})}function P(e,{supabaseUrl:t="https://shismqklzntzxworibfn.supabase.co",supabaseKey:r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoaXNtcWtsem50enh3b3JpYmZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyMzUyMDYsImV4cCI6MTk4NTgxMTIwNn0.XCBJSlRT-00o-0zIF3IyYSt1q-slF0UaMzw5S73VQ8k",options:n,cookieOptions:i}={}){return console.warn("Please utilize the `createMiddlewareClient` function instead of the deprecated `createMiddlewareSupabaseClient` function. Learn more: https://supabase.com/docs/guides/auth/auth-helpers/nextjs#middleware"),b(e,{supabaseUrl:t,supabaseKey:r,options:n,cookieOptions:i})}},84053:function(e,t,r){"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,a=(e,t,r)=>new Promise((n,i)=>{var s=e=>{try{a(r.next(e))}catch(e){i(e)}},o=e=>{try{a(r.throw(e))}catch(e){i(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,o);a((r=r.apply(e,t)).next())}),l={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(l,{SessionContextProvider:()=>d,useSession:()=>m,useSessionContext:()=>f,useSupabaseClient:()=>p,useUser:()=>y}),e.exports=((e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))o.call(e,r)||void 0===r||n(e,r,{get:()=>t[r],enumerable:!(a=i(t,r))||a.enumerable});return e})(n({},"__esModule",{value:!0}),l);var u=r(67294),c=r(85893),h=(0,u.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),d=({supabaseClient:e,initialSession:t=null,children:r})=>{let[n,i]=(0,u.useState)(t),[s,o]=(0,u.useState)(!t),[l,d]=(0,u.useState)();(0,u.useEffect)(()=>{!n&&t&&i(t)},[n,t]),(0,u.useEffect)(()=>{let t=!0;return function(){a(this,null,function*(){let{data:{session:r},error:n}=yield e.auth.getSession();if(t){if(n){d(n),o(!1);return}i(r),o(!1)}})}(),()=>{t=!1}},[]),(0,u.useEffect)(()=>{let{data:{subscription:t}}=e.auth.onAuthStateChange((e,t)=>{t&&("SIGNED_IN"===e||"TOKEN_REFRESHED"===e||"USER_UPDATED"===e)&&i(t),"SIGNED_OUT"===e&&i(null)});return()=>{t.unsubscribe()}},[]);let f=(0,u.useMemo)(()=>s?{isLoading:!0,session:null,error:null,supabaseClient:e}:l?{isLoading:!1,session:null,error:l,supabaseClient:e}:{isLoading:!1,session:n,error:null,supabaseClient:e},[s,n,l]);return(0,c.jsx)(h.Provider,{value:f,children:r})},f=()=>{let e=(0,u.useContext)(h);if(void 0===e)throw Error("useSessionContext must be used within a SessionContextProvider.");return e};function p(){let e=(0,u.useContext)(h);if(void 0===e)throw Error("useSupabaseClient must be used within a SessionContextProvider.");return e.supabaseClient}var m=()=>{let e=(0,u.useContext)(h);if(void 0===e)throw Error("useSession must be used within a SessionContextProvider.");return e.session},y=()=>{var e,t;let r=(0,u.useContext)(h);if(void 0===r)throw Error("useUser must be used within a SessionContextProvider.");return null!=(t=null==(e=r.session)?void 0:e.user)?t:null}},89743:function(e,t,r){"use strict";r.r(t),r.d(t,{Headers:function(){return s},Request:function(){return o},Response:function(){return a},fetch:function(){return i}});var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}();let i=n.fetch;t.default=n.fetch.bind(n);let s=n.Headers,o=n.Request,a=n.Response},83454:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(77663)},6840:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(58635)}])},58635:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(85893);r(87133);var i=r(57542),s=r(84053);let o=function(){return null};var a=r(86501),l=r(44080),u=r(87514),c=r(38163);let h=()=>{let e=(0,c.X)(e=>e.isOpen),t=(0,c.X)(e=>e.prompt),r=(0,c.X)(e=>e.cancel),i=(0,c.X)(e=>e.proceed),s=(0,c.X)(e=>e.title);return(0,n.jsx)(l.u,{appear:!0,show:e,as:"div",children:(0,n.jsxs)(u.V,{open:e,onClose:()=>{r&&r(!1)},className:"relative z-50",children:[(0,n.jsx)(l.u.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,n.jsx)(l.u.Child,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,n.jsxs)(u.V.Panel,{className:"w-96 max-w-lg rounded bg-white p-4",children:[(0,n.jsx)(u.V.Title,{as:"h3",className:"text-2xl font-medium leading-6 text-purple-700",children:s}),(0,n.jsx)("p",{className:"mt-6 text-gray-800",children:t}),(0,n.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,n.jsx)("button",{className:"bg-purple-700 py-2 px-4 text-white rounded-lg hover:opacity-90",onClick:()=>{i&&i(!0)},children:"Yes"}),(0,n.jsx)("button",{className:"bg-gray-600 py-2 px-4 text-white rounded-lg hover:opacity-90",onClick:()=>{r&&r(!1)},children:"No"})]})]})})})]})})};var d=r(39251).h.withTRPC(function(e){let{Component:t,pageProps:r}=e,l=(0,i.createPagesBrowserClient)();return(0,n.jsxs)(s.SessionContextProvider,{supabaseClient:l,initialSession:r.initialSession,children:[(0,n.jsx)(t,{...r}),(0,n.jsx)(a.x7,{toastOptions:{duration:2e3,position:"bottom-right"}}),(0,n.jsx)(h,{}),(0,n.jsx)(o,{})]})})},38163:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});let n=(0,r(64529).Ue)()(e=>({prompt:"",title:"",isOpen:!1,proceed:null,cancel:null,hide:()=>e(e=>({...e,isOpen:!1})),isConfirmed:t=>new Promise((r,n)=>{e({prompt:t.prompt,title:t.title,isOpen:!0,proceed:r,cancel:n})}).then(()=>(e({isOpen:!1}),!0),()=>(e({isOpen:!1}),!1))}))},39251:function(e,t,r){"use strict";let n;r.d(t,{h:function(){return rN}});class i extends Error{constructor(e){super(e),this.name="ObservableAbortError",Object.setPrototypeOf(this,i.prototype)}}function s(e){let t={subscribe(t){let r=null,n=!1,i=!1,s=!1;function o(){if(null===r){s=!0;return}!i&&(i=!0,"function"==typeof r?r():r&&r.unsubscribe())}return r=e({next(e){n||t.next?.(e)},error(e){n||(n=!0,t.error?.(e),o())},complete(){n||(n=!0,t.complete?.(),o())}}),s&&o(),{unsubscribe:o}},pipe:(...e)=>(0===e.length?function(e){return e}:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)})(t)};return t}function o(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}class a extends Error{constructor(){super("Unable to transform response from server")}}function l(e,t){let r;try{r=function(e,t){if("error"in e){let r=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:r}}}return{ok:!0,result:{...e.result,...(!e.result.type||"data"===e.result.type)&&{type:"data",data:t.transformer.deserialize(e.result.data)}}}}(e,t)}catch(e){throw new a}if(!r.ok&&(!o(r.error.error)||"number"!=typeof r.error.error.code)||r.ok&&!o(r.result))throw new a;return r}class u extends Error{static from(e,t={}){return e instanceof u||e instanceof Error&&"TRPCClientError"===e.name?(t.meta&&(e.meta={...e.meta,...t.meta}),e):o(e)&&o(e.error)&&"number"==typeof e.error.code&&"string"==typeof e.error.message?new u(e.error.message,{...t,result:e}):e instanceof Error?new u(e.message,{...t,cause:e}):new u("Unknown error",{...t,cause:e})}constructor(e,t){let r=t?.cause;super(e,{cause:r}),this.meta=t?.meta,this.cause=r,this.shape=t?.result?.error,this.data=t?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,u.prototype)}}function c(e){let t=Object.create(null);for(let r in e)t[e[r]]=r;return t}let h={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};c(h),c(h);let d=()=>{},f=e=>(function e(t,r){return new Proxy(d,{get(n,i){if("string"==typeof i&&"then"!==i)return e(t,[...r,i])},apply(e,n,i){let s="apply"===r[r.length-1];return t({args:s?i.length>=2?i[1]:[]:i,path:s?r.slice(0,-1):r})}})})(e,[]),p=e=>new Proxy(d,{get(t,r){if("string"==typeof r&&"then"!==r)return e(r)}}),m=e=>"function"==typeof e;function y(e){var t;return{url:e.url.toString().replace(/\/$/,""),fetch:e.fetch,AbortController:(t=e.AbortController)?t:"undefined"!=typeof window&&window.AbortController?window.AbortController:"undefined"!=typeof globalThis&&globalThis.AbortController?globalThis.AbortController:null}}let g={query:"GET",mutation:"POST"};function v(e){return"input"in e?e.runtime.transformer.serialize(e.input):function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[r]=n}return t}(e.inputs.map(t=>e.runtime.transformer.serialize(t)))}let b=e=>{let t=e.url+"/"+e.path,r=[];if("inputs"in e&&r.push("batch=1"),"query"===e.type){let t=v(e);void 0!==t&&r.push(`input=${encodeURIComponent(JSON.stringify(t))}`)}return r.length&&(t+="?"+r.join("&")),t},w=e=>{if("query"===e.type)return;let t=v(e);return void 0!==t?JSON.stringify(t):void 0},_=e=>S({...e,contentTypeHeader:"application/json",getUrl:b,getBody:w});async function E(e,t){let r=e.getUrl(e),n=e.getBody(e),{type:i}=e,s=await e.headers();/* istanbul ignore if -- @preserve */if("subscription"===i)throw Error("Subscriptions should use wsLink");let o={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.batchModeHeader?{"trpc-batch-mode":e.batchModeHeader}:{},...s};return(function(e){if(e)return e;if("undefined"!=typeof window&&m(window.fetch))return window.fetch;if("undefined"!=typeof globalThis&&m(globalThis.fetch))return globalThis.fetch;throw Error("No fetch implementation found")})(e.fetch)(r,{method:g[i],signal:t?.signal,body:n,headers:o})}function S(e){let t=e.AbortController?new e.AbortController:null,r={},n=!1;return{promise:new Promise((i,s)=>{E(e,t).then(e=>(r.response=e,n=!0,e.json())).then(e=>{r.responseJSON=e,i({json:e,meta:r})}).catch(e=>{n=!0,s(u.from(e,{meta:r}))})}),cancel:()=>{n||t?.abort()}}}let O=()=>{throw Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function C(e){let t=null,r=null,n=()=>{clearTimeout(r),r=null,t=null};function i(){let r=function(t){let r=[[]],n=0;for(;;){let i=t[n];if(!i)break;let s=r[r.length-1];if(i.aborted){i.reject?.(Error("Aborted")),n++;continue}if(e.validate(s.concat(i).map(e=>e.key))){s.push(i),n++;continue}if(0===s.length){i.reject?.(Error("Input is too big for a single dispatch")),n++;continue}r.push([])}return r}(t);for(let t of(n(),r)){if(!t.length)continue;let r={items:t,cancel:O};for(let e of t)e.batch=r;let n=(e,t)=>{let n=r.items[e];n.resolve?.(t),n.batch=null,n.reject=null,n.resolve=null},{promise:i,cancel:s}=e.fetch(r.items.map(e=>e.key),n);r.cancel=s,i.then(e=>{for(let t=0;t<e.length;t++){let r=e[t];n(t,r)}for(let e of r.items)e.reject?.(Error("Missing result")),e.batch=null}).catch(e=>{for(let t of r.items)t.reject?.(e),t.batch=null})}}return{load:function(e){let n={aborted:!1,key:e,batch:null,resolve:O,reject:O},s=new Promise((e,r)=>{n.reject=r,n.resolve=e,t||(t=[]),t.push(n)});return r||(r=setTimeout(i)),{promise:s,cancel:()=>{n.aborted=!0,n.batch?.items.every(e=>e.aborted)&&(n.batch.cancel(),n.batch=null)}}}}}function k(e){return function(t){let r=y(t),n=t.maxURLLength??1/0;return i=>{let o=s=>({validate:e=>{if(n===1/0)return!0;let t=e.map(e=>e.path).join(","),o=e.map(e=>e.input);return b({...r,runtime:i,type:s,path:t,inputs:o}).length<=n},fetch:e({...r,runtime:i,type:s,opts:t})}),a=C(o("query")),c=C(o("mutation")),h={query:a,subscription:C(o("subscription")),mutation:c};return({op:e})=>s(t=>{let r;let{promise:n,cancel:s}=h[e.type].load(e);return n.then(e=>{r=e;let n=l(e.json,i);if(!n.ok){t.error(u.from(n.error,{meta:e.meta}));return}t.next({context:e.meta,result:n.result}),t.complete()}).catch(e=>{t.error(u.from(e,{meta:r?.meta}))}),()=>{s()}})}}}let T=k(e=>t=>{let r=t.map(e=>e.path).join(","),n=t.map(e=>e.input),{promise:i,cancel:s}=_({...e,path:r,inputs:n,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:t}):e.opts.headers:{}});return{promise:i.then(e=>(Array.isArray(e.json)?e.json:t.map(()=>e.json)).map(t=>({meta:e.meta,json:t}))),cancel:s}});function x(e){return t=>{let r=y(t);return n=>({op:i})=>s(s=>{let o;let{path:a,input:c,type:h}=i,{promise:d,cancel:f}=e.requester({...r,runtime:n,type:h,path:a,input:c,headers:()=>t.headers?"function"==typeof t.headers?t.headers({op:i}):t.headers:{}});return d.then(e=>{o=e.meta;let t=l(e.json,n);if(!t.ok){s.error(u.from(t.error,{meta:o}));return}s.next({context:e.meta,result:t.result}),s.complete()}).catch(e=>{s.error(u.from(e,{meta:o}))}),()=>{f()}})}}x({requester:_});let P={css:{query:["72e3ff","3fb0d8"],mutation:["c5a3fc","904dfc"],subscription:["ff49e1","d83fbe"]},ansi:{regular:{query:["\x1b[30;46m","\x1b[97;46m"],mutation:["\x1b[30;45m","\x1b[97;45m"],subscription:["\x1b[30;42m","\x1b[97;42m"]},bold:{query:["\x1b[1;30;46m","\x1b[1;97;46m"],mutation:["\x1b[1;30;45m","\x1b[1;97;45m"],subscription:["\x1b[1;30;42m","\x1b[1;97;42m"]}}},I=({c:e=console,colorMode:t="css"})=>r=>{let n=r.input,i="undefined"!=typeof FormData&&n instanceof FormData?Object.fromEntries(n):n,{parts:s,args:o}=function(e){let{direction:t,type:r,path:n,id:i,input:s}=e,o=[],a=[];if("ansi"===e.colorMode){let[s,l]=P.ansi.regular[r],[u,c]=P.ansi.bold[r];return o.push("up"===t?s:l,"up"===t?">>":"<<",r,"up"===t?u:c,`#${i}`,n,"\x1b[0m"),"up"===t?a.push({input:e.input}):a.push({input:e.input,result:"result"in e.result?e.result.result:e.result,elapsedMs:e.elapsedMs}),{parts:o,args:a}}let[l,u]=P.css[r],c=`
    background-color: #${"up"===t?l:u}; 
    color: ${"up"===t?"black":"white"};
    padding: 2px;
  `;return o.push("%c","up"===t?">>":"<<",r,`#${i}`,`%c${n}%c`,"%O"),a.push(c,`${c}; font-weight: bold;`,`${c}; font-weight: normal;`),"up"===t?a.push({input:s,context:e.context}):a.push({input:s,result:e.result,elapsedMs:e.elapsedMs,context:e.context}),{parts:o,args:a}}({...r,colorMode:t,input:i});e["down"===r.direction&&r.result&&(r.result instanceof Error||"error"in r.result.result)?"error":"log"].apply(null,[s.join(" ")].concat(o))};class R{$request({type:e,input:t,path:r,context:n={}}){var i;return(i={links:this.links,op:{id:++this.requestId,type:e,path:r,input:t,context:n}},s(e=>(function e(t=0,r=i.op){let n=i.links[t];if(!n)throw Error("No more links to execute - did you forget to add an ending link?");return n({op:r,next:r=>e(t+1,r)})})().subscribe(e))).pipe(e=>{let t=0,r=null,n=[];return{subscribe:i=>(t++,n.push(i),r||(r=e.subscribe({next(e){for(let t of n)t.next?.(e)},error(e){for(let t of n)t.error?.(e)},complete(){for(let e of n)e.complete?.()}})),{unsubscribe(){t--,function(){if(0===t&&r){let e=r;r=null,e.unsubscribe()}}();let e=n.findIndex(e=>e===i);e>-1&&n.splice(e,1)}})}})}requestAsPromise(e){var t;let r;let{promise:n,abort:s}=(t=this.$request(e),{promise:new Promise((e,n)=>{let s=!1;function o(){s||(s=!0,n(new i("This operation was aborted.")),a.unsubscribe())}let a=t.subscribe({next(t){s=!0,e(t),o()},error(e){s=!0,n(e),o()},complete(){s=!0,o()}});r=o}),abort:r});return new Promise((t,r)=>{e.signal?.addEventListener("abort",s),n.then(e=>{t(e.result.data)}).catch(e=>{r(u.from(e))})})}query(e,t,r){return this.requestAsPromise({type:"query",path:e,input:t,context:r?.context,signal:r?.signal})}mutation(e,t,r){return this.requestAsPromise({type:"mutation",path:e,input:t,context:r?.context,signal:r?.signal})}subscription(e,t,r){return this.$request({type:"subscription",path:e,input:t,context:r?.context}).subscribe({next(e){"started"===e.result.type?r.onStarted?.():"stopped"===e.result.type?r.onStopped?.():r.onData?.(e.result.data)},error(e){r.onError?.(e)},complete(){r.onComplete?.()}})}constructor(e){this.requestId=0;let t=(()=>{let t=e.transformer;return t?"input"in t?e.transformer:{input:t,output:t}:{input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}}})();this.runtime={transformer:{serialize:e=>t.input.serialize(e),deserialize:e=>t.output.deserialize(e)},combinedTransformer:t},this.links=e.links.map(e=>e(this.runtime))}}let A={query:"query",mutate:"mutation",subscribe:"subscription"},j=e=>A[e];async function N(e){let t=e.parse??JSON.parse;await D(e.readableStream,r=>{if(e.signal?.aborted||!r||"}"===r)return;let n=r.indexOf(":"),i=r.substring(2,n-1),s=r.substring(n+1);e.onSingle(Number(i),t(s))},e.textDecoder)}async function D(e,t,r){let n="",i=e=>{let i=r.decode(e).split("\n");if(1===i.length)n+=i[0];else if(i.length>1){t(n+i[0]);for(let e=1;e<i.length-1;e++)t(i[e]);n=i[i.length-1]}};"getReader"in e?await M(e,i):await new Promise(t=>{e.on("data",i),e.on("end",t)}),t(n)}async function M(e,t){let r=e.getReader(),n=await r.read();for(;!n.done;)t(n.value),n=await r.read()}let L=(e,t)=>{let r=e.AbortController?new e.AbortController:null;return{cancel:()=>r?.abort(),promise:E({...e,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:b,getBody:w},r).then(async n=>{if(!n.body)throw Error("Received response without body");let i={response:n};return N({readableStream:n.body,onSingle:t,parse:e=>({json:JSON.parse(e),meta:i}),signal:r?.signal,textDecoder:e.textDecoder})})}};k(e=>{let t=function(e){if(e)return e;if("undefined"!=typeof window&&window.TextDecoder)return new window.TextDecoder;if("undefined"!=typeof globalThis&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw Error("No TextDecoder implementation found")}(e.opts.textDecoder);return(r,n)=>{let i=r.map(e=>e.path).join(","),s=r.map(e=>e.input),{cancel:o,promise:a}=L({...e,textDecoder:t,path:i,inputs:s,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:r}):e.opts.headers:{}},(e,t)=>{n(e,t)});return{promise:a.then(()=>[]),cancel:o}}});let F=e=>{if("input"in e){if(!(e.input instanceof FormData))throw Error("Input is not FormData");return e.input}};x({requester:e=>{if("mutation"!==e.type)throw Error("We only handle mutations with formdata");return S({...e,getUrl:()=>`${e.url}/${e.path}`,getBody:F})}});var U=r(67294);let $=U.createContext(void 0),q=U.createContext(!1);function z(e,t){return e||(t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=$),window.ReactQueryClientContext):$)}let Q=({context:e}={})=>{let t=U.useContext(z(e,U.useContext(q)));if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},B=({client:e,children:t,context:r,contextSharing:n=!1})=>{U.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);let i=z(r,n);return U.createElement(q.Provider,{value:!r&&n},U.createElement(i.Provider,{value:e},t))};function J(e){return e.state.isPaused}function K(e){return"success"===e.state.status}let H=({children:e,options:t,state:r})=>(!function(e,t={}){let r=Q({context:t.context}),n=U.useRef(t);n.current=t,U.useMemo(()=>{e&&function(e,t,r){if("object"!=typeof t||null===t)return;let n=e.getMutationCache(),i=e.getQueryCache(),s=t.mutations||[],o=t.queries||[];s.forEach(t=>{var i;n.build(e,{...null==r?void 0:null==(i=r.defaultOptions)?void 0:i.mutations,mutationKey:t.mutationKey},t.state)}),o.forEach(({queryKey:t,state:n,queryHash:s})=>{var o;let a=i.get(s);if(a){if(a.state.dataUpdatedAt<n.dataUpdatedAt){let{fetchStatus:e,...t}=n;a.setState(t)}return}i.build(e,{...null==r?void 0:null==(o=r.defaultOptions)?void 0:o.queries,queryKey:t,queryHash:s},{...n,fetchStatus:"idle"})})}(r,e,n.current)},[r,e])}(r,t),e);function V(e,t){let[r,n]=Array.isArray(e)?e:[e],i="string"!=typeof r||""===r?[]:r.split(".");return n||t&&"any"!==t?[i,{...void 0!==n&&{input:n},...t&&"any"!==t&&{type:t}}]:i.length?[i]:[]}let Y="undefined"==typeof window||"Deno"in window;function G(){}function X(e){return"number"==typeof e&&e>=0&&e!==1/0}function W(e,t){return e.filter(e=>!t.includes(e))}function Z(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ee(e,t,r){return eh(e)?"function"==typeof t?{...r,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function et(e,t,r){return eh(e)?[{...t,queryKey:e},r]:[e||{},t]}function er(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(eh(o)){if(n){if(t.queryHash!==ei(o,t.options))return!1}else{if(!eo(t.queryKey,o))return!1}}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&(void 0===i||i===t.state.fetchStatus)&&(!s||!!s(t))}function en(e,t){let{exact:r,fetching:n,predicate:i,mutationKey:s}=e;if(eh(s)){if(!t.options.mutationKey)return!1;if(r){if(es(t.options.mutationKey)!==es(s))return!1}else{if(!eo(t.options.mutationKey,s))return!1}}return("boolean"!=typeof n||"loading"===t.state.status===n)&&(!i||!!i(t))}function ei(e,t){return((null==t?void 0:t.queryKeyHashFn)||es)(e)}function es(e){return JSON.stringify(e,(e,t)=>eu(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function eo(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(r=>!eo(e[r],t[r]))}function ea(e,t){if(e&&!t||t&&!e)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function el(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function eu(e){if(!ec(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!(ec(r)&&r.hasOwnProperty("isPrototypeOf"))}function ec(e){return"[object Object]"===Object.prototype.toString.call(e)}function eh(e){return Array.isArray(e)}function ed(e){return new Promise(t=>{setTimeout(t,e)})}function ef(e){ed(0).then(e)}function ep(e,t,r){return null!=r.isDataEqual&&r.isDataEqual(e,t)?e:"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?function e(t,r){if(t===r)return t;let n=el(t)&&el(r);if(n||eu(t)&&eu(r)){let i=n?t.length:Object.keys(t).length,s=n?r:Object.keys(r),o=s.length,a=n?[]:{},l=0;for(let i=0;i<o;i++){let o=n?i:s[i];a[o]=e(t[o],r[o]),a[o]===t[o]&&l++}return i===o&&l===i?t:a}return r}(e,t):t}let em=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},i=n=>{t?e.push(n):ef(()=>{r(n)})},s=()=>{let t=e;e=[],t.length&&ef(()=>{n(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{--t||s()}return r},batchCalls:e=>(...t)=>{i(()=>{e(...t)})},schedule:i,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e}}}();class ey{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){let t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}class eg extends ey{constructor(){super(),this.setup=e=>{if(!Y&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.cleanup)||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}}let ev=new eg,eb=["online","offline"];class ew extends ey{constructor(){super(),this.setup=e=>{if(!Y&&window.addEventListener){let t=()=>e();return eb.forEach(e=>{window.addEventListener(e,t,!1)}),()=>{eb.forEach(e=>{window.removeEventListener(e,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.cleanup)||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setOnline(e):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}}let e_=new ew;function eE(e){return Math.min(1e3*2**e,3e4)}function eS(e){return(null!=e?e:"online")!=="online"||e_.isOnline()}class eO{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function eC(e){return e instanceof eO}function ek(e){let t,r,n,i=!1,s=0,o=!1,a=new Promise((e,t)=>{r=e,n=t}),l=()=>!ev.isFocused()||"always"!==e.networkMode&&!e_.isOnline(),u=n=>{o||(o=!0,null==e.onSuccess||e.onSuccess(n),null==t||t(),r(n))},c=r=>{o||(o=!0,null==e.onError||e.onError(r),null==t||t(),n(r))},h=()=>new Promise(r=>{t=e=>{let t=o||!l();return t&&r(e),t},null==e.onPause||e.onPause()}).then(()=>{t=void 0,o||null==e.onContinue||e.onContinue()}),d=()=>{let t;if(!o){try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(u).catch(t=>{var r,n;if(o)return;let a=null!=(r=e.retry)?r:3,u=null!=(n=e.retryDelay)?n:eE,f="function"==typeof u?u(s,t):u,p=!0===a||"number"==typeof a&&s<a||"function"==typeof a&&a(s,t);if(i||!p){c(t);return}s++,null==e.onFail||e.onFail(s,t),ed(f).then(()=>{if(l())return h()}).then(()=>{i?c(t):d()})})}};return eS(e.networkMode)?d():h().then(d),{promise:a,cancel:t=>{o||(c(new eO(t)),null==e.abort||e.abort())},continue:()=>(null==t?void 0:t())?a:Promise.resolve(),cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1}}}class eT extends ey{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),ex(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eP(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eP(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){let r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),ea(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();let i=this.hasListeners();i&&eI(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(t),i&&(this.currentQuery!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();let s=this.computeRefetchInterval();i&&(this.currentQuery!==n||this.options.enabled!==r.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)}getOptimisticResult(e){let t=this.client.getQueryCache().build(this.client,e),r=this.createResult(t,e);return e.keepPreviousData||(void 0!==e.placeholderData?!r.isPlaceholderData:ea(this.getCurrentResult(),r))||(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){let t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){let t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(G)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),Y||this.currentResult.isStale||!X(this.options.staleTime))return;let e=Z(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},e+1)}computeRefetchInterval(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!Y&&!1!==this.options.enabled&&X(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ev.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){let r;let n=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==n,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:h}=e,{dataUpdatedAt:d,error:f,errorUpdatedAt:p,fetchStatus:m,status:y}=h,g=!1,v=!1;if(t._optimisticResults){let r=this.hasListeners(),s=!r&&ex(e,t),o=r&&eI(e,n,t,i);(s||o)&&(m=eS(e.options.networkMode)?"fetching":"paused",d||(y="loading")),"isRestoring"===t._optimisticResults&&(m="idle")}if(t.keepPreviousData&&!h.dataUpdatedAt&&null!=c&&c.isSuccess&&"error"!==y)r=c.data,d=c.dataUpdatedAt,y=c.status,g=!0;else if(t.select&&void 0!==h.data){if(s&&h.data===(null==o?void 0:o.data)&&t.select===this.selectFn)r=this.selectResult;else try{this.selectFn=t.select,r=t.select(h.data),r=ep(null==s?void 0:s.data,r,t),this.selectResult=r,this.selectError=null}catch(e){this.selectError=e}}else r=h.data;if(void 0!==t.placeholderData&&void 0===r&&"loading"===y){let e;if(null!=s&&s.isPlaceholderData&&t.placeholderData===(null==a?void 0:a.placeholderData))e=s.data;else if(e="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.selectError=null}catch(e){this.selectError=e}void 0!==e&&(y="success",r=ep(null==s?void 0:s.data,e,t),v=!0)}this.selectError&&(f=this.selectError,r=this.selectResult,p=Date.now(),y="error");let b="fetching"===m,w="loading"===y,_="error"===y;return{status:y,fetchStatus:m,isLoading:w,isSuccess:"success"===y,isError:_,isInitialLoading:w&&b,data:r,dataUpdatedAt:d,error:f,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:_&&0===h.dataUpdatedAt,isPaused:"paused"===m,isPlaceholderData:v,isPreviousData:g,isRefetchError:_&&0!==h.dataUpdatedAt,isStale:eR(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){let t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,ea(r,t))return;this.currentResult=r;let n={cache:!0};(null==e?void 0:e.listeners)!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.trackedProps.size)return!0;let n=new Set(null!=r?r:this.trackedProps);return this.options.useErrorBoundary&&n.add("error"),Object.keys(this.currentResult).some(e=>this.currentResult[e]!==t[e]&&n.has(e))})()&&(n.listeners=!0),this.notify({...n,...e})}updateQuery(){let e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;let t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){let t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||eC(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){em.batch(()=>{var t,r,n,i,s,o,a,l;e.onSuccess?(null==(t=(r=this.options).onSuccess)||t.call(r,this.currentResult.data),null==(n=(i=this.options).onSettled)||n.call(i,this.currentResult.data,null)):e.onError&&(null==(s=(o=this.options).onError)||s.call(o,this.currentResult.error),null==(a=(l=this.options).onSettled)||a.call(l,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function ex(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)||e.state.dataUpdatedAt>0&&eP(e,t,t.refetchOnMount)}function eP(e,t,r){if(!1!==t.enabled){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&eR(e,t)}return!1}function eI(e,t,r,n){return!1!==r.enabled&&(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&eR(e,r)}function eR(e,t){return e.isStaleByTime(t.staleTime)}let eA=r(61688).useSyncExternalStore,ej=U.createContext((n=!1,{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n})),eN=()=>U.useContext(ej),eD=U.createContext(!1),eM=()=>U.useContext(eD);function eL(e,t){return"function"==typeof e?e(...t):!!e}eD.Provider;let eF=(e,t)=>{(e.suspense||e.useErrorBoundary)&&!t.isReset()&&(e.retryOnMount=!1)},eU=e=>{U.useEffect(()=>{e.clearReset()},[e])},e$=({result:e,errorResetBoundary:t,useErrorBoundary:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&eL(r,[e.error,n]),eq=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},ez=(e,t)=>e.isLoading&&e.isFetching&&!t,eQ=(e,t,r)=>(null==e?void 0:e.suspense)&&ez(t,r),eB=(e,t,r)=>t.fetchOptimistic(e).then(({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)}).catch(t=>{r.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)});function eJ(e,t){let r=Q({context:e.context}),n=eM(),i=eN(),s=r.defaultQueryOptions(e);s._optimisticResults=n?"isRestoring":"optimistic",s.onError&&(s.onError=em.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=em.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=em.batchCalls(s.onSettled)),eq(s),eF(s,i),eU(i);let[o]=U.useState(()=>new t(r,s)),a=o.getOptimisticResult(s);if(eA(U.useCallback(e=>{let t=n?()=>void 0:o.subscribe(em.batchCalls(e));return o.updateResult(),t},[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),U.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),eQ(s,a,n))throw eB(s,o,i);if(e$({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}let eK=console;class eH{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:Y?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class eV extends eH{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||eK,this.observers=[],this.state=e.state||eY(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}async execute(){var e,t,r,n,i,s,o,a,l,u,c,h,d,f,p,m,y,g,v,b;let w="loading"===this.state.status;try{if(!w){this.dispatch({type:"loading",variables:this.options.variables}),await (null==(l=(u=this.mutationCache.config).onMutate)?void 0:l.call(u,this.state.variables,this));let e=await (null==(c=(h=this.options).onMutate)?void 0:c.call(h,this.state.variables));e!==this.state.context&&this.dispatch({type:"loading",context:e,variables:this.state.variables})}let d=await (()=>{var e;return this.retryer=ek({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise})();return await (null==(e=(t=this.mutationCache.config).onSuccess)?void 0:e.call(t,d,this.state.variables,this.state.context,this)),await (null==(r=(n=this.options).onSuccess)?void 0:r.call(n,d,this.state.variables,this.state.context)),await (null==(i=(s=this.mutationCache.config).onSettled)?void 0:i.call(s,d,null,this.state.variables,this.state.context,this)),await (null==(o=(a=this.options).onSettled)?void 0:o.call(a,d,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:d}),d}catch(e){try{throw await (null==(d=(f=this.mutationCache.config).onError)?void 0:d.call(f,e,this.state.variables,this.state.context,this)),await (null==(p=(m=this.options).onError)?void 0:p.call(m,e,this.state.variables,this.state.context)),await (null==(y=(g=this.mutationCache.config).onSettled)?void 0:y.call(g,void 0,e,this.state.variables,this.state.context,this)),await (null==(v=(b=this.options).onSettled)?void 0:v.call(b,void 0,e,this.state.variables,this.state.context)),e}finally{this.dispatch({type:"error",error:e})}}}dispatch(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"loading":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!eS(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...t,...e.state}}})(this.state),em.batch(()=>{this.observers.forEach(t=>{t.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function eY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class eG extends ey{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;let r=this.options;this.options=this.client.defaultMutationOptions(e),ea(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.currentMutation)||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();let t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let e=this.currentMutation?this.currentMutation.state:eY(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){em.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var t,r,n,i,s,o,a,l;e.onSuccess?(null==(t=(r=this.mutateOptions).onSuccess)||t.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(n=(i=this.mutateOptions).onSettled)||n.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&(null==(s=(o=this.mutateOptions).onError)||s.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(l=this.mutateOptions).onSettled)||a.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)})})}}function eX(){}function eW(){return{onFetch:e=>{e.fetchFn=()=>{var t,r,n,i,s,o;let a;let l=null==(t=e.fetchOptions)?void 0:null==(r=t.meta)?void 0:r.refetchPage,u=null==(n=e.fetchOptions)?void 0:null==(i=n.meta)?void 0:i.fetchMore,c=null==u?void 0:u.pageParam,h=(null==u?void 0:u.direction)==="forward",d=(null==u?void 0:u.direction)==="backward",f=(null==(s=e.state.data)?void 0:s.pages)||[],p=(null==(o=e.state.data)?void 0:o.pageParams)||[],m=p,y=!1,g=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{var t,r;return null!=(t=e.signal)&&t.aborted?y=!0:null==(r=e.signal)||r.addEventListener("abort",()=>{y=!0}),e.signal}})},v=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),b=(e,t,r,n)=>(m=n?[t,...m]:[...m,t],n?[r,...e]:[...e,r]),w=(t,r,n,i)=>{if(y)return Promise.reject("Cancelled");if(void 0===n&&!r&&t.length)return Promise.resolve(t);let s={queryKey:e.queryKey,pageParam:n,meta:e.options.meta};return g(s),Promise.resolve(v(s)).then(e=>b(t,n,e,i))};if(f.length){if(h){let t=void 0!==c,r=t?c:eZ(e.options,f);a=w(f,t,r)}else if(d){let t=void 0!==c,r=t?c:e0(e.options,f);a=w(f,t,r,!0)}else{m=[];let t=void 0===e.options.getNextPageParam;a=!l||!f[0]||l(f[0],0,f)?w([],t,p[0]):Promise.resolve(b([],p[0],f[0]));for(let r=1;r<f.length;r++)a=a.then(n=>{if(!l||!f[r]||l(f[r],r,f)){let i=t?p[r]:eZ(e.options,n);return w(n,t,i)}return Promise.resolve(b(n,p[r],f[r]))})}}else a=w([]);return a.then(e=>({pages:e,pageParams:m}))}}}}function eZ(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function e0(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}class e1 extends eT{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:eW()},t)}getOptimisticResult(e){return e.behavior=eW(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var r,n,i,s,o,a;let{state:l}=e,u=super.createResult(e,t),{isFetching:c,isRefetching:h}=u,d=c&&(null==(r=l.fetchMeta)?void 0:null==(n=r.fetchMore)?void 0:n.direction)==="forward",f=c&&(null==(i=l.fetchMeta)?void 0:null==(s=i.fetchMore)?void 0:s.direction)==="backward";return{...u,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:function(e,t){if(e.getNextPageParam&&Array.isArray(t)){let r=eZ(e,t);return null!=r&&!1!==r}}(t,null==(o=l.data)?void 0:o.pages),hasPreviousPage:function(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){let r=e0(e,t);return null!=r&&!1!==r}}(t,null==(a=l.data)?void 0:a.pages),isFetchingNextPage:d,isFetchingPreviousPage:f,isRefetching:h&&!d&&!f}}}class e3 extends ey{constructor(e,t){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},t&&this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.observers.forEach(e=>{e.subscribe(t=>{this.onUpdate(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,t){this.queries=e,em.batch(()=>{let e=this.observers,r=this.findMatchingObservers(this.queries);r.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions,t));let n=r.map(e=>e.observer),i=Object.fromEntries(n.map(e=>[e.options.queryHash,e])),s=n.map(e=>e.getCurrentResult()),o=n.some((t,r)=>t!==e[r]);(e.length!==n.length||o)&&(this.observers=n,this.observersMap=i,this.result=s,this.hasListeners()&&(W(e,n).forEach(e=>{e.destroy()}),W(n,e).forEach(e=>{e.subscribe(t=>{this.onUpdate(e,t)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions))}findMatchingObservers(e){let t=this.observers,r=new Map(t.map(e=>[e.options.queryHash,e])),n=e.map(e=>this.client.defaultQueryOptions(e)),i=n.flatMap(e=>{let t=r.get(e.queryHash);return null!=t?[{defaultedQueryOptions:e,observer:t}]:[]}),s=new Set(i.map(e=>e.defaultedQueryOptions.queryHash)),o=n.filter(e=>!s.has(e.queryHash)),a=new Set(i.map(e=>e.observer)),l=t.filter(e=>!a.has(e)),u=e=>{let t=this.client.defaultQueryOptions(e),r=this.observersMap[t.queryHash];return null!=r?r:new eT(this.client,t)},c=o.map((e,t)=>{if(e.keepPreviousData){let r=l[t];if(void 0!==r)return{defaultedQueryOptions:e,observer:r}}return{defaultedQueryOptions:e,observer:u(e)}});return i.concat(c).sort((e,t)=>n.indexOf(e.defaultedQueryOptions)-n.indexOf(t.defaultedQueryOptions))}onUpdate(e,t){let r=this.observers.indexOf(e);-1!==r&&(this.result=function(e,t,r){let n=e.slice(0);return n[t]=r,n}(this.result,r,t),this.notify())}notify(){em.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}function e2(e,t){return e.length?void 0===t?[e]:[e,t]:[]}function e4(e,t){return f(r=>{let n=r.args,i=[e,...r.path],s=i.pop(),o=i.join(".");if("useMutation"===s)return t[s](o,...n);let[a,...l]=n,u=e2(o,a);if("getQueryKey"===s)return V(u,l[0]??"any");if("_def"===s)return{path:i};if(s.startsWith("useSuspense")){let e=l[0]||{},r=t["useSuspenseQuery"===s?"useQuery":"useInfiniteQuery"](u,{...e,suspense:!0,enabled:!0});return[r.data,r]}return t[s](u,...l)})}let e6=["client","ssrContext","ssrState","abortOnUnmount"],e5=(0,U.createContext)(null);function e7(e){return p(t=>{if("client"===t){var r;return r=e.client,p(e=>r.hasOwnProperty(e)?r[e]:"__untypedClient"===e?r:f(({path:t,args:n})=>{let i=[e,...t],s=j(i.pop()),o=i.join(".");return r[s](o,...n)}))}return e6.includes(t)?e[t]:f(({path:r,args:n})=>{let i=[t,...r],s=i.pop(),o=i.join("."),{queryKey:a,rest:l,updater:u}=(e=>{if(["setData","setInfiniteData"].includes(e)){let[e,t,...r]=n;return{queryKey:e2(o,e),updater:t,rest:r}}let[t,...r]=n;return{queryKey:e2(o,t),rest:r}})(s);return({fetch:()=>e.fetchQuery(a,...l),fetchInfinite:()=>e.fetchInfiniteQuery(a,...l),prefetch:()=>e.prefetchQuery(a,...l),prefetchInfinite:()=>e.prefetchInfiniteQuery(a,...l),ensureData:()=>e.ensureQueryData(a,...l),invalidate:()=>e.invalidateQueries(a,...l),reset:()=>e.resetQueries(a,...l),refetch:()=>e.refetchQueries(a,...l),cancel:()=>e.cancelQuery(a,...l),setData:()=>{e.setQueryData(a,u,...l)},setInfiniteData:()=>{e.setInfiniteQueryData(a,u,...l)},getData:()=>e.getQueryData(a),getInfiniteData:()=>e.getInfiniteQueryData(a)})[s]()})})}function e9(e,t){let[r,n]=e;return[r,n,t?.trpc]}function e8(e){let t=(0,U.useRef)(e);return t.current.path=e.path,t.current}function te(e){return function(e){let t=(e?.overrides??e?.unstable_overrides)?.useMutation?.onSuccess??(e=>e.originalFn()),r=e?.context??e5,n=e?.reactQueryContext;function i(){return U.useContext(r)}function s(e,t,r){let{queryClient:n,ssrState:s}=i();return s&&"mounted"!==s&&n.getQueryCache().find(V(e,t))?.state.status==="error"?{retryOnMount:!1,...r}:r}return{Provider:e=>{let{abortOnUnmount:t=!1,client:n,queryClient:i,ssrContext:s}=e,[o,a]=(0,U.useState)(e.ssrState??!1);return(0,U.useEffect)(()=>{a(e=>!!e&&"mounted")},[]),U.createElement(r.Provider,{value:{abortOnUnmount:t,queryClient:i,client:n,ssrContext:s??null,ssrState:o,fetchQuery:(0,U.useCallback)((e,t)=>i.fetchQuery({...t,queryKey:V(e,"query"),queryFn:()=>n.query(...e9(e,t))}),[n,i]),fetchInfiniteQuery:(0,U.useCallback)((e,t)=>i.fetchInfiniteQuery({...t,queryKey:V(e,"infinite"),queryFn:({pageParam:r})=>{let[i,s]=e,o={...s,cursor:r};return n.query(...e9([i,o],t))}}),[n,i]),prefetchQuery:(0,U.useCallback)((e,t)=>i.prefetchQuery({...t,queryKey:V(e,"query"),queryFn:()=>n.query(...e9(e,t))}),[n,i]),prefetchInfiniteQuery:(0,U.useCallback)((e,t)=>i.prefetchInfiniteQuery({...t,queryKey:V(e,"infinite"),queryFn:({pageParam:r})=>{let[i,s]=e,o={...s,cursor:r};return n.query(...e9([i,o],t))}}),[n,i]),ensureQueryData:(0,U.useCallback)((e,t)=>i.ensureQueryData({...t,queryKey:V(e,"query"),queryFn:()=>n.query(...e9(e,t))}),[n,i]),invalidateQueries:(0,U.useCallback)((e,t,r)=>i.invalidateQueries({...t,queryKey:V(e,"any")},r),[i]),resetQueries:(0,U.useCallback)((...e)=>{let[t,r,n]=e;return i.resetQueries({...r,queryKey:V(t,"any")},n)},[i]),refetchQueries:(0,U.useCallback)((...e)=>{let[t,r,n]=e;return i.refetchQueries({...r,queryKey:V(t,"any")},n)},[i]),cancelQuery:(0,U.useCallback)(e=>i.cancelQueries({queryKey:V(e,"any")}),[i]),setQueryData:(0,U.useCallback)((...e)=>{let[t,...r]=e;return i.setQueryData(V(t,"query"),...r)},[i]),getQueryData:(0,U.useCallback)((...e)=>{let[t,...r]=e;return i.getQueryData(V(t,"query"),...r)},[i]),setInfiniteQueryData:(0,U.useCallback)((...e)=>{let[t,...r]=e;return i.setQueryData(V(t,"infinite"),...r)},[i]),getInfiniteQueryData:(0,U.useCallback)((...e)=>{let[t,...r]=e;return i.getQueryData(V(t,"infinite"),...r)},[i])}},e.children)},createClient:e=>new R(e),useContext:i,useUtils:i,useQuery:function(t,r){let o=i();if(!o)throw Error("Unable to retrieve application context. Did you forget to wrap your App inside `withTRPC` HoC?");let{abortOnUnmount:a,client:l,ssrState:u,queryClient:c,prefetchQuery:h}=o,d=c.getQueryDefaults(V(t,"query"));"undefined"!=typeof window||"prepass"!==u||r?.trpc?.ssr===!1||(r?.enabled??d?.enabled)===!1||c.getQueryCache().find(V(t,"query"))||h(t,r);let f=s(t,"query",{...d,...r}),p=r?.trpc?.abortOnUnmount??e?.abortOnUnmount??a,m=eJ(ee({...f,queryKey:V(t,"query"),queryFn:e=>{let r={...f,trpc:{...f?.trpc,...p?{signal:e.signal}:{}}};return l.query(...e9(t,r))},context:n},void 0,void 0),eT);return m.trpc=e8({path:t[0]}),m},useQueries:(e,t)=>{let{ssrState:r,queryClient:n,prefetchQuery:s,client:o}=i(),a=e(f(e=>{let t=e.path.join("."),[r,n]=e.args;return{queryKey:e2(t,r),queryFn:()=>o.query(t,r,n?.trpc),...n}}));if("undefined"==typeof window&&"prepass"===r)for(let e of a)e.trpc?.ssr===!1||n.getQueryCache().find(V(e.queryKey,"query"))||s(e.queryKey,e);return function({queries:e,context:t}){let r=Q({context:t}),n=eM(),i=eN(),s=U.useMemo(()=>e.map(e=>{let t=r.defaultQueryOptions(e);return t._optimisticResults=n?"isRestoring":"optimistic",t}),[e,r,n]);s.forEach(e=>{eq(e),eF(e,i)}),eU(i);let[o]=U.useState(()=>new e3(r,s)),a=o.getOptimisticResult(s);eA(U.useCallback(e=>n?()=>void 0:o.subscribe(em.batchCalls(e)),[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),U.useEffect(()=>{o.setQueries(s,{listeners:!1})},[s,o]);let l=a.some((e,t)=>eQ(s[t],e,n))?a.flatMap((e,t)=>{let r=s[t],a=o.getObservers()[t];if(r&&a){if(eQ(r,e,n))return eB(r,a,i);ez(e,n)&&eB(r,a,i)}return[]}):[];if(l.length>0)throw Promise.all(l);let u=o.getQueries(),c=a.find((e,t)=>{var r,n;return e$({result:e,errorResetBoundary:i,useErrorBoundary:null!=(r=null==(n=s[t])?void 0:n.useErrorBoundary)&&r,query:u[t]})});if(null!=c&&c.error)throw c.error;return a}({queries:a.map(e=>({...e,queryKey:V(e.queryKey,"query")})),context:t})},useMutation:function(e,r){let{client:s}=i(),o=Q({context:n}),a=Array.isArray(e)?e[0]:e,l=o.getMutationDefaults([a.split(".")]),u=function(e,t,r){var n;let i=(n=void 0,eh(e)?"function"==typeof n?{mutationKey:e,mutationFn:n}:{...n,mutationKey:e}:"function"==typeof e?{...n,mutationFn:e}:{...e}),s=Q({context:i.context}),[o]=U.useState(()=>new eG(s,i));U.useEffect(()=>{o.setOptions(i)},[o,i]);let a=eA(U.useCallback(e=>o.subscribe(em.batchCalls(e)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),l=U.useCallback((e,t)=>{o.mutate(e,t).catch(eX)},[o]);if(a.error&&eL(o.options.useErrorBoundary,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}({...r,mutationKey:[a.split(".")],mutationFn:e=>s.mutation(...e9([a,e],r)),context:n,onSuccess:(...e)=>t({originalFn:()=>r?.onSuccess?.(...e)??l?.onSuccess?.(...e),queryClient:o,meta:r?.meta??l?.meta??{}})});return u.trpc=e8({path:a}),u},useSubscription:/* istanbul ignore next -- @preserve */function(e,t){let r=t?.enabled??!0,n=es(e),{client:s}=i(),o=(0,U.useRef)(t);o.current=t,(0,U.useEffect)(()=>{if(!r)return;let[t,n]=e,i=!1,a=s.subscription(t,n??void 0,{onStarted:()=>{i||o.current.onStarted?.()},onData:e=>{i||o.current.onData(e)},onError:e=>{i||o.current.onError?.(e)}});return()=>{i=!0,a.unsubscribe()}},[n,r])},useDehydratedState:(e,t)=>(0,U.useMemo)(()=>t?e.runtime.transformer.deserialize(t):t,[t,e]),useInfiniteQuery:function(e,t){let[r,o]=e,{client:a,ssrState:l,prefetchInfiniteQuery:u,queryClient:c,abortOnUnmount:h}=i(),d=c.getQueryDefaults(V(e,"infinite"));"undefined"!=typeof window||"prepass"!==l||t?.trpc?.ssr===!1||(t?.enabled??d?.enabled)===!1||c.getQueryCache().find(V(e,"infinite"))||u(e,{...d,...t});let f=s(e,"infinite",{...d,...t}),p=t?.trpc?.abortOnUnmount??h,m=eJ(ee({...f,queryKey:V(e,"infinite"),queryFn:e=>{let n={...f,trpc:{...f?.trpc,...p?{signal:e.signal}:{}}},i={...o??{},cursor:e.pageParam??t?.initialCursor};return a.query(...e9([r,i],n))},context:n},void 0,void 0),e1);return m.trpc=e8({path:r}),m}}}(e)}class tt extends eH{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||eK,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){let r=ep(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;let r=this.promise;return null==(t=this.retryer)||t.cancel(e),r?r.then(G).catch(G):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Z(this.state.dataUpdatedAt,e)}onFocus(){var e;let t=this.observers.find(e=>e.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;let t=this.observers.find(e=>e.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var r,n,i,s;if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise)return null==(i=this.retryer)||i.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let o=function(){if("function"==typeof AbortController)return new AbortController}(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);let u={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};l(u),null==(r=this.options.behavior)||r.onFetch(u),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(n=u.fetchOptions)?void 0:n.meta))&&this.dispatch({type:"fetch",meta:null==(s=u.fetchOptions)?void 0:s.meta});let c=e=>{if(eC(e)&&e.silent||this.dispatch({type:"error",error:e}),!eC(e)){var t,r,n,i;null==(t=(r=this.cache.config).onError)||t.call(r,e,this),null==(n=(i=this.cache.config).onSettled)||n.call(i,this.state.data,e,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=ek({fn:u.fetchFn,abort:null==o?void 0:o.abort.bind(o),onSuccess:e=>{var t,r,n,i;if(void 0===e){c(Error(this.queryHash+" data is undefined"));return}this.setData(e),null==(t=(r=this.cache.config).onSuccess)||t.call(r,e,this),null==(n=(i=this.cache.config).onSettled)||n.call(i,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:c,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var r,n;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=e.meta)?r:null,fetchStatus:eS(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(n=e.dataUpdatedAt)?n:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let i=e.error;if(eC(i)&&i.revert&&this.revertState)return{...this.revertState,fetchStatus:"idle"};return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),em.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}class tr extends ey{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,r){var n;let i=t.queryKey,s=null!=(n=t.queryHash)?n:ei(i,t),o=this.get(s);return o||(o=new tt({cache:this,logger:e.getLogger(),queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){let t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(t=>t!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){em.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){let[r]=et(e,t);return void 0===r.exact&&(r.exact=!0),this.queries.find(e=>er(r,e))}findAll(e,t){let[r]=et(e,t);return Object.keys(r).length>0?this.queries.filter(e=>er(r,e)):this.queries}notify(e){em.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){em.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){em.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class tn extends ey{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,r){let n=new eV({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(n),n}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){em.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find(t=>en(e,t))}findAll(e){return this.mutations.filter(t=>en(e,t))}notify(e){em.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then(()=>{let e=this.mutations.filter(e=>e.state.isPaused);return em.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(G)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}class ti{constructor(e={}){this.queryCache=e.queryCache||new tr,this.mutationCache=e.mutationCache||new tn,this.logger=e.logger||eK,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=ev.subscribe(()=>{ev.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=e_.subscribe(()=>{e_.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){let[r]=et(e,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state.data}ensureQueryData(e,t,r){let n=ee(e,t,r),i=this.getQueryData(n.queryKey);return i?Promise.resolve(i):this.fetchQuery(n)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let n=this.queryCache.find(e),i=null==n?void 0:n.state.data,s="function"==typeof t?t(i):t;if(void 0===s)return;let o=ee(e),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return em.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state}removeQueries(e,t){let[r]=et(e,t),n=this.queryCache;em.batch(()=>{n.findAll(r).forEach(e=>{n.remove(e)})})}resetQueries(e,t,r){let[n,i]=et(e,t,r),s=this.queryCache,o={type:"active",...n};return em.batch(()=>(s.findAll(n).forEach(e=>{e.reset()}),this.refetchQueries(o,i)))}cancelQueries(e,t,r){let[n,i={}]=et(e,t,r);return void 0===i.revert&&(i.revert=!0),Promise.all(em.batch(()=>this.queryCache.findAll(n).map(e=>e.cancel(i)))).then(G).catch(G)}invalidateQueries(e,t,r){let[n,i]=et(e,t,r);return em.batch(()=>{var e,t;if(this.queryCache.findAll(n).forEach(e=>{e.invalidate()}),"none"===n.refetchType)return Promise.resolve();let r={...n,type:null!=(e=null!=(t=n.refetchType)?t:n.type)?e:"active"};return this.refetchQueries(r,i)})}refetchQueries(e,t,r){let[n,i]=et(e,t,r),s=Promise.all(em.batch(()=>this.queryCache.findAll(n).filter(e=>!e.isDisabled()).map(e=>{var t;return e.fetch(void 0,{...i,cancelRefetch:null==(t=null==i?void 0:i.cancelRefetch)||t,meta:{refetchPage:n.refetchPage}})}))).then(G);return null!=i&&i.throwOnError||(s=s.catch(G)),s}fetchQuery(e,t,r){let n=ee(e,t,r),i=this.defaultQueryOptions(n);void 0===i.retry&&(i.retry=!1);let s=this.queryCache.build(this,i);return s.isStaleByTime(i.staleTime)?s.fetch(i):Promise.resolve(s.state.data)}prefetchQuery(e,t,r){return this.fetchQuery(e,t,r).then(G).catch(G)}fetchInfiniteQuery(e,t,r){let n=ee(e,t,r);return n.behavior=eW(),this.fetchQuery(n)}prefetchInfiniteQuery(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(G).catch(G)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){let r=this.queryDefaults.find(t=>es(e)===es(t.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;let t=this.queryDefaults.find(t=>eo(e,t.queryKey));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){let r=this.mutationDefaults.find(t=>es(e)===es(t.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;let t=this.mutationDefaults.find(t=>eo(e,t.mutationKey));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;let t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=ei(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}let ts=e=>e.queryClient??new ti(e.queryClientConfig);function to(){return(to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ta=60103,tl=60106,tu=60107,tc=60108,th=60114,td=60109,tf=60110,tp=60111,tm=60112,ty=60113,tg=60115,tv=60116;if("function"==typeof Symbol&&Symbol.for){var tb=Symbol.for;ta=tb("react.element"),tl=tb("react.portal"),tu=tb("react.fragment"),tc=tb("react.strict_mode"),th=tb("react.profiler"),td=tb("react.provider"),tf=tb("react.context"),tp=Symbol.for("react.concurrent_mode"),tm=tb("react.forward_ref"),ty=tb("react.suspense"),tg=tb("react.memo"),tv=tb("react.lazy")}var tw=ta,t_=tl,tE=tu,tS=tc,tO=th,tC=td,tk=tf,tT=tp,tx=tm,tP=ty,tI=tg,tR=tv,tA=U.Children.toArray,tj=function(e){return null!==e&&"object"==typeof e},tN=function(e){return tA(e).filter(tj)},tD=function(e,t){return"object"==typeof t?to({},t,e):e},tM=new Map,tL={},tF=void 0,tU=void 0,t$=function(){return to({},tL)},tq=function(){return new Map(tM)},tz=function(){var e=tF;return tF=void 0,e},tQ=function(){var e=tU;return tU=void 0,e},tB=function(e){void 0!==e&&to(tL,e)},tJ=function(e){void 0!==e&&tM.set(e[0],e[1])},tK=function(e){tF=void 0,tL=e},tH=function(e){tU=void 0,tM=e},tV=function(e){var t=tM.get(e);return void 0!==t?t:e._currentValue},tY={},tG=function(e){var t=e.contextType,r=e.contextTypes;if(t)return tV(t);if(!r)return tY;var n={};for(var i in r)n[i]=tL[i];return n},tX=null,tW=function(){return tX},tZ=function(e){tX=e||null},t0={current:{uniqueID:0}},t1="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},t3=null,t2=function(e){t3=e},t4=function(){if(null===t3)throw Error("[react-ssr-prepass] Hooks can only be called inside the body of a function component. (https://fb.me/react-invalid-hook-call)");return t3},t6=null,t5=null,t7=!1,t9=null,t8=0,re=function(e){t6=e};function rt(){return null===t5?null===t6?t6=t5={memoizedState:null,queue:null,next:null}:t5=t6:t5=null===t5.next?t5.next={memoizedState:null,queue:null,next:null}:t5.next}function rr(e,t){return"function"==typeof t?t(e):t}function rn(e,t,r){var n,i=t4();null===(t5=rt()).queue&&(n=e===rr?"function"==typeof t?t():t:void 0!==r?r(t):t,t5.memoizedState=n);var s=t5.queue||(t5.queue={last:null,dispatch:null}),o=s.dispatch||(s.dispatch=ro.bind(null,i,s));if(null!==t9){var a=t9.get(s);if(void 0!==a){t9.delete(s);var l=t5.memoizedState,u=a;do l=e(l,u.action),u=u.next;while(null!==u);t5.memoizedState=l}}return[t5.memoizedState,o]}function ri(e,t){t4();var r=void 0===t?null:t,n=(t5=rt()).memoizedState;if(null!==n&&null!==r&&function(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!t1(e[r],t[r]))return!1;return!0}(r,n[1]))return n[0];var i=e();return t5.memoizedState=[i,r],i}function rs(){return t4(),(t5=rt()).memoizedState||(t5.memoizedState="R:"+(t0.current.uniqueID++).toString(36)),t5.memoizedState}function ro(e,t,r){if(e===t3){t7=!0;var n={action:r,next:null};null===t9&&(t9=new Map);var i=t9.get(t);if(void 0===i)t9.set(t,n);else{for(var s=i;null!==s.next;)s=s.next;s.next=n}}}function ra(){}function rl(e){e()}var ru={readContext:function(e,t){return tV(e)},useSyncExternalStore:function(e,t,r){return t()},useContext:function(e,t){return t4(),tV(e)},useMemo:ri,useReducer:rn,useRef:function(e){t4();var t=(t5=rt()).memoizedState;if(null!==t)return t;var r={current:e};return t5.memoizedState=r,r},useState:function(e){return rn(rr,e)},useCallback:function(e,t){return ri(function(){return e},t)},useMutableSource:function(e,t,r){return t4(),t(e._source)},useTransition:function(){return[rl,!1]},useDeferredValue:function(e){return e},useOpaqueIdentifier:rs,useId:rs,unstable_useId:rs,unstable_useOpaqueIdentifier:rs,useLayoutEffect:ra,useImperativeHandle:ra,useEffect:ra,useDebugValue:ra},rc=function(e){var t=e._payload||e;return 0===t._status?t._result:1===t._status?Promise.resolve(t._result):2===t._status?Promise.reject(t._result):(t._status=0,t._result=(t._ctor||t._result)().then(function(e){t._result=e,"function"==typeof e?t._status=1:null!==e&&"object"==typeof e&&"function"==typeof e.default?(t._result=e.default,t._status=1):t._status=2}).catch(function(e){return t._status=2,t._result=e,Promise.reject(e)}))},rh=function(e,t,r){var n=e._payload||e;return 1===n._status?(0,U.createElement)(n._result,t):null},rd=function(e,t,r){return{contextMap:t$(),contextStore:tq(),id:t4(),hook:t6,kind:"frame.hooks",errorFrame:tW(),thenable:r,props:t,type:e}},rf=function(e,t,r){try{return function(e,t,r){t5=null;for(var n=e(t,r);t8<25&&t7;)t7=!1,t8+=1,t5=null,n=e(t,r);return t8=0,t9=null,t5=null,n}(e,tD(t,e.defaultProps),tG(e))}catch(n){if("function"!=typeof n.then)throw n;return r.push(rd(e,t,n)),null}};function rp(){return!1}function rm(){return null}var ry=function(e,t){var r,n={_thrown:0,queue:r=[],isMounted:rp,enqueueForceUpdate:rm,enqueueReplaceState:function(e,t){e._isMounted&&(r.length=0,r.push(t))},enqueueSetState:function(e,t){e._isMounted&&r.push(t)}},i=tD(t,e.defaultProps),s=tG(e),o=new e(i,s,n);if(o.props=i,o.context=s,o.updater=n,o._isMounted=!0,void 0===o.state&&(o.state=null),"function"==typeof o.componentDidCatch||"function"==typeof e.getDerivedStateFromError){var a=rg(e,o,null);a.errorFrame=a,tZ(a)}if("function"==typeof e.getDerivedStateFromProps){var l=(0,e.getDerivedStateFromProps)(o.props,o.state);null!=l&&(o.state=to({},o.state,l))}else"function"==typeof o.componentWillMount?o.componentWillMount():"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount();return o},rg=function(e,t,r){return{contextMap:t$(),contextStore:tq(),errorFrame:tW(),thenable:r,kind:"frame.class",error:null,instance:t,type:e}},rv=function(e,t,r){!function(e){var t=e.updater.queue;if(t.length>0){for(var r=to({},e.state),n=0,i=t.length;n<i;n++){var s=t[n],o="function"==typeof s?s.call(e,r,e.props,e.context):s;null!==o&&to(r,o)}e.state=r,t.length=0}}(t);var n=null;try{n=t.render()}catch(n){if("function"!=typeof n.then)throw n;return r.push(rg(e,t,n)),null}if(void 0!==e.childContextTypes&&"function"==typeof t.getChildContext){var i=t.getChildContext();null!==i&&"object"==typeof i&&function(e){for(var t in tF={},e)tF[t]=tL[t],tL[t]=e[t]}(i)}if("function"!=typeof t.getDerivedStateFromProps&&("function"==typeof t.componentWillMount||"function"==typeof t.UNSAFE_componentWillMount)&&"function"==typeof t.componentWillUnmount)try{t.componentWillUnmount()}catch(e){}return t._isMounted=!1,n},rb=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher,rw="function"==typeof setImmediate,r_=function(e,t,r,n,i){var s,o,a;return e.prototype&&e.prototype.isReactComponent?(t2(null),(o=n(i,s=ry(e,t)))?(r.push(rg(e,s,o)),null):rv(e,s,r)):(re(null),t2({}),(a=n(i))?(r.push(rd(e,t,a)),null):rf(e,t,r))},rE=function(e,t,r){switch(function(e){switch(e.$$typeof){case t_:return t_;case tw:switch(e.type){case tT:return tT;case tE:return tE;case tO:return tO;case tS:return tS;case tP:return tP;default:switch(e.type&&e.type.$$typeof){case tR:return tR;case tI:return tI;case tk:return tk;case tC:return tC;case tx:return tx;default:return tw}}default:return}}(e)){case tP:case tS:case tT:case tO:case tE:return tN(e.props.children);case tC:var n,i,s,o,a=e.props,l=a.children;return s=e.type._context,o=a.value,tU=[s,tM.get(s)],tM.set(s,o),tN(l);case tk:var u=e.props.children;if("function"!=typeof u)return[];var c=e.type;return tN(u(tV("object"==typeof c._context?c._context:c)));case tR:return tN((n=e.type,i=e.props,(n._payload||n)._status<=0?(t.push({kind:"frame.lazy",contextMap:t$(),contextStore:tq(),errorFrame:tW(),thenable:rc(n),props:i,type:n}),null):rh(n,i)));case tI:return tN((0,U.createElement)(e.type.type,e.props));case tx:var h=e.type,d=h.render,f=tD(e.props,h.defaultProps);return tN((0,U.createElement)(d,f));case tw:if("string"==typeof e.type)return tN(e.props.children);return tN(r_(e.type,e.props,t,r,e));default:return[]}},rS=function(e,t,r,n,i,s){var o=rb.current,a=Date.now();try{for(rb.current=ru;e.length>0;){var l=e[e.length-1].shift();if(void 0!==l){var u=rE(l,i,s);e.push(u),t.push(tz()),r.push(tQ()),n.push(tW())}else e.pop(),tB(t.pop()),tJ(r.pop()),tZ(n.pop());if(rw&&Date.now()-a>5)return!0}return!1}catch(e){var c=tW();if(!c)throw e;return c.error=e,i.unshift(c),!1}finally{rb.current=o}},rO=function(e,t,r,n){return{contextMap:t$(),contextStore:tq(),errorFrame:tW(),thenable:null,kind:"frame.yield",traversalChildren:e,traversalMap:t,traversalStore:r,traversalErrorFrame:n}},rC=function(e,t,r){var n=[e],i=[tz()],s=[tQ()],o=[tW()];rS(n,i,s,o,t,r)&&t.unshift(rO(n,i,s,o))},rk=function(e,t,r){if("frame.yield"===e.kind)t2(null),tK(e.contextMap),tH(e.contextStore),tZ(e.errorFrame),rS(e.traversalChildren,e.traversalMap,e.traversalStore,e.traversalErrorFrame,t,r)&&t.unshift(rO(e.traversalChildren,e.traversalMap,e.traversalStore,e.traversalErrorFrame));else{var n=rb.current,i=null;rb.current=ru;try{"frame.class"===e.kind?i=function(e,t){if(t2(null),tK(t.contextMap),tH(t.contextStore),tZ(t.errorFrame),t.error){if(++t.instance.updater._thrown>=25)return null;t.instance._isMounted=!0,"function"==typeof t.instance.componentDidCatch&&t.instance.componentDidCatch(t.error),"function"==typeof t.type.getDerivedStateFromError&&t.instance.updater.enqueueSetState(t.instance,t.type.getDerivedStateFromError(t.error))}return rv(t.type,t.instance,e)}(t,e):"frame.hooks"===e.kind?(re(e.hook),t2(e.id),tK(e.contextMap),tH(e.contextStore),tZ(e.errorFrame),i=rf(e.type,e.props,t)):"frame.lazy"===e.kind&&(t2(null),tK(e.contextMap),tH(e.contextStore),tZ(e.errorFrame),i=rh(e.type,e.props))}catch(e){var s=tW();if(!s)throw e;s.error=e,t.unshift(s),i=null}finally{rb.current=n}rC(tN(i),t,r)}};function rT(e,t){setImmediate(e)}var rx=function(e,t,r){var n=e.shift();return n?(rw&&"frame.yield"===n.kind&&(n.thenable=new Promise(rT)),Promise.resolve(n.thenable).then(function(){return t0.current=r,rk(n,e,t),rx(e,t,r)},function(r){if(!n.errorFrame)throw r;n.errorFrame.error=r,rk(n.errorFrame,e,t)})):Promise.resolve()},rP=function(){},rI=function(e,t){t||(t=rP);var r=[],n=t0.current={uniqueID:0};tK({}),tH(new Map),tZ(null);try{rC(tN(e),r,t)}catch(e){return Promise.reject(e)}return rx(r,t,n)};function rR(e){let t=e.state.error;if(t instanceof Error&&"TRPCClientError"===t.name){let r={message:t.message,data:t.data,shape:t.shape};return{...e,state:{...e.state,error:r}}}return e}var rA=r(12544);r(83454);let rj=()=>"",rN=/* istanbul ignore file -- @preserve */function(e){let t=te(e),r=function(e){let{config:t}=e;return r=>{let n=function(e){let t=te(e),r=p(e=>"useContext"===e||"useUtils"===e?()=>{let e=t.useUtils();return(0,U.useMemo)(()=>e7(e),[e])}:t.hasOwnProperty(e)?t[e]:e4(e,t));return{...t,proxy:r}}(e),i=i=>{let[s]=(0,U.useState)(()=>{if(i.trpc)return i.trpc;let r=t({}),s=ts(r),o=n.createClient(r);return{abortOnUnmount:r.abortOnUnmount,queryClient:s,trpcClient:o,ssrState:!!e.ssr&&"mounting",ssrContext:null}}),{queryClient:o,trpcClient:a,ssrState:l,ssrContext:u}=s,c=n.useDehydratedState(a,i.pageProps?.trpcState);return U.createElement(n.Provider,{abortOnUnmount:s.abortOnUnmount??!1,client:a,queryClient:o,ssrState:l,ssrContext:u},U.createElement(B,{client:o},U.createElement(H,{state:c},U.createElement(r,Object.assign({},i)))))};(r.getInitialProps??e.ssr)&&(i.getInitialProps=async n=>{let i=async()=>{if("function"==typeof e.ssr){if("undefined"!=typeof window)return!1;try{return await e.ssr({ctx:n.ctx})}catch(e){return!1}}return e.ssr},s=await i(),o=n.AppTree,a=!!n.Component,l=a?n.ctx:n,u={};if(r.getInitialProps){let e=await r.getInitialProps(n);u={...a?e.pageProps??{}:e,...u}}let c=e=>a?{pageProps:e}:e;if("undefined"!=typeof window||!s)return c(u);let h=t({ctx:l}),d=new R(h),f=ts(h),p={pageProps:u,trpc:{config:h,trpcClient:d,queryClient:f,ssrState:"prepass",ssrContext:l}};for(;await rI((0,U.createElement)(o,p)),f.isFetching();)await new Promise(e=>{let t=f.getQueryCache().subscribe(r=>{r?.query.getObserversCount()===0&&(e(),t())})});let m=function(e,t={}){let r=[],n=[];if(!1!==t.dehydrateMutations){let n=t.shouldDehydrateMutation||J;e.getMutationCache().getAll().forEach(e=>{n(e)&&r.push({mutationKey:e.options.mutationKey,state:e.state})})}if(!1!==t.dehydrateQueries){let r=t.shouldDehydrateQuery||K;e.getQueryCache().getAll().forEach(e=>{r(e)&&n.push({state:e.state,queryKey:e.queryKey,queryHash:e.queryHash})})}return{mutations:r,queries:n}}(f,{shouldDehydrateQuery:()=>!0}),y={...m,queries:m.queries.map(rR),mutations:m.mutations.map(rR)};u.trpcState=d.runtime.combinedTransformer.output.serialize(y);let g=c(u);if("responseMeta"in e){let t=e.responseMeta?.({ctx:l,clientErrors:[...m.queries,...m.mutations].map(e=>e.state.error).flatMap(e=>e instanceof Error&&"TRPCClientError"===e.name?[e]:[])})??{};for(let[e,r]of Object.entries(t.headers??{}))"string"==typeof r&&l.res?.setHeader(e,r);t.status&&l.res&&(l.res.statusCode=t.status)}return g});let s=r.displayName??r.name??"Component";return i.displayName=`withTRPC(${s})`,i}}(e);return p(e=>"useContext"===e||"useUtils"===e?()=>{let e=t.useUtils();return(0,U.useMemo)(()=>e7(e),[e])}:"useQueries"===e?t.useQueries:"withTRPC"===e?r:e4(e,t))}({config:()=>({transformer:rA.ZP,links:[function(e={}){let{enabled:t=()=>!0}=e,r=e.colorMode??("undefined"==typeof window?"ansi":"css"),{logger:n=I({c:e.console,colorMode:r})}=e;return()=>({op:e,next:r})=>s(i=>{var s;t({...e,direction:"up"})&&n({...e,direction:"up"});let o=Date.now();function a(r){let i=Date.now()-o;t({...e,direction:"down",result:r})&&n({...e,direction:"down",elapsedMs:i,result:r})}return r(e).pipe((s={next(e){a(e)},error(e){a(e)}},e=>({subscribe:t=>e.subscribe({next(e){s.next?.(e),t.next?.(e)},error(e){s.error?.(e),t.error?.(e)},complete(){s.complete?.(),t.complete?.()}})}))).subscribe(i)})}({enabled:e=>"down"===e.direction&&e.result instanceof Error}),T({url:"".concat(rj(),"/api/trpc")})],queryClientConfig:{defaultOptions:{queries:{retry:0,refetchOnWindowFocus:!1}}}}),ssr:!1})},87133:function(){},77663:function(e){!function(){var t={229:function(e){var t,r,n,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l=[],u=!1,c=-1;function h(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=a(h);u=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}},o=!0;try{t[e](s,s.exports,n),o=!1}finally{o&&delete r[e]}return s.exports}n.ab="//";var i=n(229);e.exports=i}()},69328:function(e){"use strict";var t={decodeValues:!0,map:!1,silent:!1};function r(e){return"string"==typeof e&&!!e.trim()}function n(e,n){var i,s,o,a,l=e.split(";").filter(r),u=(i=l.shift(),s="",o="",(a=i.split("=")).length>1?(s=a.shift(),o=a.join("=")):o=i,{name:s,value:o}),c=u.name,h=u.value;n=n?Object.assign({},t,n):t;try{h=n.decodeValues?decodeURIComponent(h):h}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+h+"'. Set options.decodeValues to false to disable this feature.",e)}var d={name:c,value:h};return l.forEach(function(e){var t=e.split("="),r=t.shift().trimLeft().toLowerCase(),n=t.join("=");"expires"===r?d.expires=new Date(n):"max-age"===r?d.maxAge=parseInt(n,10):"secure"===r?d.secure=!0:"httponly"===r?d.httpOnly=!0:"samesite"===r?d.sameSite=n:d[r]=n}),d}function i(e,i){if(i=i?Object.assign({},t,i):t,!e)return i.map?{}:[];if(e.headers){if("function"==typeof e.headers.getSetCookie)e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var s=e.headers[Object.keys(e.headers).find(function(e){return"set-cookie"===e.toLowerCase()})];s||!e.headers.cookie||i.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=s}}return(Array.isArray(e)||(e=[e]),(i=i?Object.assign({},t,i):t).map)?e.filter(r).reduce(function(e,t){var r=n(t,i);return e[r.name]=r,e},{}):e.filter(r).map(function(e){return n(e,i)})}e.exports=i,e.exports.parse=i,e.exports.parseString=n,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var t,r,n,i,s,o=[],a=0;function l(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,s=!1;l();)if(","===(r=e.charAt(a))){for(n=a,a+=1,l(),i=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(s=!0,a=i,o.push(e.substring(t,n)),t=a):a=n+1}else a+=1;(!s||a>=e.length)&&o.push(e.substring(t,e.length))}return o}},53250:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(67294),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,o=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),i=n[0].inst,c=n[1];return a(function(){i.value=r,i.getSnapshot=t,u(i)&&c({inst:i})},[e,r,t]),o(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},50139:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(67294),i=r(61688),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,a=n.useRef,l=n.useEffect,u=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;var f=o(e,(h=u(function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return a=t}return a=e}if(t=a,s(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?t:(o=e,a=r)}var o,a,l=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,n,i]))[0],h[1]);return l(function(){d.hasValue=!0,d.value=f},[f]),c(f),f}},61688:function(e,t,r){"use strict";e.exports=r(53250)},52798:function(e,t,r){"use strict";e.exports=r(50139)},57026:function(e){"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},87514:function(e,t,r){"use strict";let n,i;r.d(t,{V:function(){return ec}});var s,o,a,l,u,c=r(67294),h=r.t(c,2),d=r(32984),f=r(12351),p=r(23784),m=r(61363),y=r(64103),g=r(19946),v=r(82180),b=r(46045),w=r(84575),_=r(73781),E=r(45662),S=r(14879),O=r(51074),C=r(14007),k=r(81021),T=r(96599),x=r(94192),P=r(61595);function I(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}var R=((s=R||{})[s.None=1]="None",s[s.InitialFocus=2]="InitialFocus",s[s.TabLock=4]="TabLock",s[s.FocusLock=8]="FocusLock",s[s.RestoreFocus=16]="RestoreFocus",s[s.All=30]="All",s);let A=Object.assign((0,f.yV)(function(e,t){let r=(0,c.useRef)(null),n=(0,p.T)(r,t),{initialFocus:i,containers:s,features:o=30,...a}=e;(0,v.H)()||(o=1);let l=(0,O.i)(r);!function({ownerDocument:e},t){let r=function(e=!0){let t=(0,c.useRef)(j.slice());return(0,T.q)(([e],[r])=>{!0===r&&!1===e&&(0,k.Y)(()=>{t.current.splice(0)}),!1===r&&!0===e&&(t.current=j.slice())},[e,j,t]),(0,_.z)(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(t);(0,T.q)(()=>{t||(null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&(0,w.C5)(r())},[t]),(0,P.L)(()=>{t&&(0,w.C5)(r())})}({ownerDocument:l},!!(16&o));let u=function({ownerDocument:e,container:t,initialFocus:r},n){let i=(0,c.useRef)(null),s=(0,S.t)();return(0,T.q)(()=>{if(!n)return;let o=t.current;o&&(0,k.Y)(()=>{if(!s.current)return;let t=null==e?void 0:e.activeElement;if(null!=r&&r.current){if((null==r?void 0:r.current)===t){i.current=t;return}}else if(o.contains(t)){i.current=t;return}null!=r&&r.current?(0,w.C5)(r.current):(0,w.jA)(o,w.TO.First)===w.fE.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=null==e?void 0:e.activeElement})},[n]),i}({ownerDocument:l,container:r,initialFocus:i},!!(2&o));!function({ownerDocument:e,container:t,containers:r,previousActiveElement:n},i){let s=(0,S.t)();(0,C.O)(null==e?void 0:e.defaultView,"focus",e=>{if(!i||!s.current)return;let o=I(r);t.current instanceof HTMLElement&&o.add(t.current);let a=n.current;if(!a)return;let l=e.target;l&&l instanceof HTMLElement?N(o,l)?(n.current=l,(0,w.C5)(l)):(e.preventDefault(),e.stopPropagation(),(0,w.C5)(a)):(0,w.C5)(n.current)},!0)}({ownerDocument:l,container:r,containers:s,previousActiveElement:u},!!(8&o));let h=(0,E.l)(),m=(0,_.z)(e=>{let t=r.current;t&&(0,d.E)(h.current,{[E.N.Forwards]:()=>{(0,w.jA)(t,w.TO.First,{skipElements:[e.relatedTarget]})},[E.N.Backwards]:()=>{(0,w.jA)(t,w.TO.Last,{skipElements:[e.relatedTarget]})}})}),y=(0,x.G)(),g=(0,c.useRef)(!1);return c.createElement(c.Fragment,null,!!(4&o)&&c.createElement(b._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:b.A.Focusable}),(0,f.sY)({ourProps:{ref:n,onKeyDown(e){"Tab"==e.key&&(g.current=!0,y.requestAnimationFrame(()=>{g.current=!1}))},onBlur(e){let t=I(s);r.current instanceof HTMLElement&&t.add(r.current);let n=e.relatedTarget;n instanceof HTMLElement&&"true"!==n.dataset.headlessuiFocusGuard&&(N(t,n)||(g.current?(0,w.jA)(r.current,(0,d.E)(h.current,{[E.N.Forwards]:()=>w.TO.Next,[E.N.Backwards]:()=>w.TO.Previous})|w.TO.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&(0,w.C5)(e.target)))}},theirProps:a,defaultTag:"div",name:"FocusTrap"}),!!(4&o)&&c.createElement(b._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:b.A.Focusable}))}),{features:R}),j=[];function N(e,t){for(let r of e)if(r.contains(t))return!0;return!1}!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}(()=>{function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&j[0]!==e.target&&(j.unshift(e.target),(j=j.filter(e=>null!=e&&e.isConnected)).splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});var D=r(2740),M=r(31438),L=r(16723);let F=(0,c.createContext)(null),U=Object.assign((0,f.yV)(function(e,t){let r=(0,g.M)(),{id:n=`headlessui-description-${r}`,...i}=e,s=function e(){let t=(0,c.useContext)(F);if(null===t){let t=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),o=(0,p.T)(t);(0,L.e)(()=>s.register(n),[n,s.register]);let a={ref:o,...s.props,id:n};return(0,f.sY)({ourProps:a,theirProps:i,slot:s.slot||{},defaultTag:"p",name:s.name||"Description"})}),{});var $=r(16567);let q=(0,c.createContext)(()=>{});q.displayName="StackContext";var z=((o=z||{})[o.Add=0]="Add",o[o.Remove=1]="Remove",o);function Q({children:e,onUpdate:t,type:r,element:n,enabled:i}){let s=(0,c.useContext)(q),o=(0,_.z)((...e)=>{null==t||t(...e),s(...e)});return(0,L.e)(()=>{let e=void 0===i||!0===i;return e&&o(0,r,n),()=>{e&&o(1,r,n)}},[o,r,n,i]),c.createElement(q.Provider,{value:o},e)}var B=r(39650);let{useState:J,useEffect:K,useLayoutEffect:H,useDebugValue:V}=h;"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;let Y=h.useSyncExternalStore;var G=r(9362),X=r(78657);let W=(a={PUSH(e,t){var r;let n=null!=(r=this.get(e))?r:{doc:e,count:0,d:(0,G.k)(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n,i;let s={doc:e,d:t,meta:function(e){let t={};for(let r of e)Object.assign(t,r(t));return t}(r)},o=[(0,X.gn)()?{before(){n=window.pageYOffset},after({doc:e,d:t,meta:r}){function i(e){return r.containers.flatMap(e=>e()).some(t=>t.contains(e))}t.microTask(()=>{if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let r=(0,G.k)();r.style(e.documentElement,"scroll-behavior","auto"),t.add(()=>t.microTask(()=>r.dispose()))}t.style(e.body,"marginTop",`-${n}px`),window.scrollTo(0,0);let r=null;t.addEventListener(e,"click",t=>{if(t.target instanceof HTMLElement)try{let n=t.target.closest("a");if(!n)return;let{hash:s}=new URL(n.href),o=e.querySelector(s);o&&!i(o)&&(r=o)}catch{}},!0),t.addEventListener(e,"touchmove",e=>{e.target instanceof HTMLElement&&!i(e.target)&&e.preventDefault()},{passive:!1}),t.add(()=>{window.scrollTo(0,window.pageYOffset+n),r&&r.isConnected&&(r.scrollIntoView({block:"nearest"}),r=null)})})}}:{},{before({doc:e}){var t;let r=e.documentElement;i=(null!=(t=e.defaultView)?t:window).innerWidth-r.clientWidth},after({doc:e,d:t}){let r=e.documentElement,n=r.clientWidth-r.offsetWidth,s=i-n;t.style(r,"paddingRight",`${s}px`)}},{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];o.forEach(({before:e})=>null==e?void 0:e(s)),o.forEach(({after:e})=>null==e?void 0:e(s))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}},n=new Map,i=new Set,{getSnapshot:()=>n,subscribe:e=>(i.add(e),()=>i.delete(e)),dispatch(e,...t){let r=a[e].call(n,...t);r&&(n=r,i.forEach(e=>e()))}});W.subscribe(()=>{let e=W.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),n=0!==r.count;(n&&!e||!n&&e)&&W.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&W.dispatch("TEARDOWN",r)}});let Z=new Map,ee=new Map;function et(e,t=!0){(0,L.e)(()=>{var r;if(!t)return;let n="function"==typeof e?e():e.current;if(!n)return;let i=null!=(r=ee.get(n))?r:0;return ee.set(n,i+1),0!==i||(Z.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),function(){var e;if(!n)return;let t=null!=(e=ee.get(n))?e:1;if(1===t?ee.delete(n):ee.set(n,t-1),1!==t)return;let r=Z.get(n);r&&(null===r["aria-hidden"]?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",r["aria-hidden"]),n.inert=r.inert,Z.delete(n))}},[e,t])}var er=r(65958),en=((l=en||{})[l.Open=0]="Open",l[l.Closed=1]="Closed",l),ei=((u=ei||{})[u.SetTitleId=0]="SetTitleId",u);let es={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},eo=(0,c.createContext)(null);function ea(e){let t=(0,c.useContext)(eo);if(null===t){let t=Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ea),t}return t}function el(e,t){return(0,d.E)(t.type,es,e,t)}eo.displayName="DialogContext";let eu=f.AN.RenderStrategy|f.AN.Static,ec=Object.assign((0,f.yV)(function(e,t){var r;let n=(0,g.M)(),{id:i=`headlessui-dialog-${n}`,open:s,onClose:o,initialFocus:a,__demoMode:l=!1,...u}=e,[h,y]=(0,c.useState)(0),b=(0,$.oJ)();void 0===s&&null!==b&&(s=(b&$.ZM.Open)===$.ZM.Open);let w=(0,c.useRef)(null),E=(0,p.T)(w,t),S=(0,O.i)(w),k=e.hasOwnProperty("open")||null!==b,T=e.hasOwnProperty("onClose");if(!k&&!T)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!k)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!T)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof s)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if("function"!=typeof o)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let x=s?0:1,[P,I]=(0,c.useReducer)(el,{titleId:null,descriptionId:null,panelRef:(0,c.createRef)()}),R=(0,_.z)(()=>o(!1)),j=(0,_.z)(e=>I({type:0,id:e})),N=!!(0,v.H)()&&!l&&0===x,U=h>1,q=null!==(0,c.useContext)(eo),[J,K]=(0,D.k)(),{resolveContainers:H,mainTreeNodeRef:V,MainTreeNode:G}=(0,er.v)({portals:J,defaultContainers:[null!=(r=P.panelRef.current)?r:w.current]}),X=null!==b&&(b&$.ZM.Closing)===$.ZM.Closing,Z=!q&&!X&&N;et((0,c.useCallback)(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==S?void 0:S.querySelectorAll("body > *"))?e:[]).find(e=>"headlessui-portal-root"!==e.id&&e.contains(V.current)&&e instanceof HTMLElement))?t:null},[V]),Z);let ee=!!U||N;et((0,c.useCallback)(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==S?void 0:S.querySelectorAll("[data-headlessui-portal]"))?e:[]).find(e=>e.contains(V.current)&&e instanceof HTMLElement))?t:null},[V]),ee);let en=!(!N||U);(0,B.O)(H,R,en);let ei=!(U||0!==x);(0,C.O)(null==S?void 0:S.defaultView,"keydown",e=>{ei&&(e.defaultPrevented||e.key===m.R.Escape&&(e.preventDefault(),e.stopPropagation(),R()))}),function(e,t,r=()=>[document.body]){var n;let i,s;n=e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}},i=Y(W.subscribe,W.getSnapshot,W.getSnapshot),(s=e?i.get(e):void 0)&&s.count,(0,L.e)(()=>{if(!(!e||!t))return W.dispatch("PUSH",e,n),()=>W.dispatch("POP",e,n)},[t,e])}(S,!(X||0!==x||q),H),(0,c.useEffect)(()=>{if(0!==x||!w.current)return;let e=new ResizeObserver(e=>{for(let t of e){let e=t.target.getBoundingClientRect();0===e.x&&0===e.y&&0===e.width&&0===e.height&&R()}});return e.observe(w.current),()=>e.disconnect()},[x,w,R]);let[es,ea]=function(){let[e,t]=(0,c.useState)([]);return[e.length>0?e.join(" "):void 0,(0,c.useMemo)(()=>function(e){let r=(0,_.z)(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),n=(0,c.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props}),[r,e.slot,e.name,e.props]);return c.createElement(F.Provider,{value:n},e.children)},[t])]}(),ec=(0,c.useMemo)(()=>[{dialogState:x,close:R,setTitleId:j},P],[x,P,R,j]),eh=(0,c.useMemo)(()=>({open:0===x}),[x]),ed={ref:E,id:i,role:"dialog","aria-modal":0===x||void 0,"aria-labelledby":P.titleId,"aria-describedby":es};return c.createElement(Q,{type:"Dialog",enabled:0===x,element:w,onUpdate:(0,_.z)((e,t)=>{"Dialog"===t&&(0,d.E)(e,{[z.Add]:()=>y(e=>e+1),[z.Remove]:()=>y(e=>e-1)})})},c.createElement(M.O,{force:!0},c.createElement(D.h,null,c.createElement(eo.Provider,{value:ec},c.createElement(D.h.Group,{target:w},c.createElement(M.O,{force:!1},c.createElement(ea,{slot:eh,name:"Dialog.Description"},c.createElement(A,{initialFocus:a,containers:H,features:N?(0,d.E)(U?"parent":"leaf",{parent:A.features.RestoreFocus,leaf:A.features.All&~A.features.FocusLock}):A.features.None},c.createElement(K,null,(0,f.sY)({ourProps:ed,theirProps:u,slot:eh,defaultTag:"div",features:eu,visible:0===x,name:"Dialog"}))))))))),c.createElement(G,null))}),{Backdrop:(0,f.yV)(function(e,t){let r=(0,g.M)(),{id:n=`headlessui-dialog-backdrop-${r}`,...i}=e,[{dialogState:s},o]=ea("Dialog.Backdrop"),a=(0,p.T)(t);(0,c.useEffect)(()=>{if(null===o.panelRef.current)throw Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=(0,c.useMemo)(()=>({open:0===s}),[s]);return c.createElement(M.O,{force:!0},c.createElement(D.h,null,(0,f.sY)({ourProps:{ref:a,id:n,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:"div",name:"Dialog.Backdrop"})))}),Panel:(0,f.yV)(function(e,t){let r=(0,g.M)(),{id:n=`headlessui-dialog-panel-${r}`,...i}=e,[{dialogState:s},o]=ea("Dialog.Panel"),a=(0,p.T)(t,o.panelRef),l=(0,c.useMemo)(()=>({open:0===s}),[s]),u=(0,_.z)(e=>{e.stopPropagation()});return(0,f.sY)({ourProps:{ref:a,id:n,onClick:u},theirProps:i,slot:l,defaultTag:"div",name:"Dialog.Panel"})}),Overlay:(0,f.yV)(function(e,t){let r=(0,g.M)(),{id:n=`headlessui-dialog-overlay-${r}`,...i}=e,[{dialogState:s,close:o}]=ea("Dialog.Overlay"),a=(0,p.T)(t),l=(0,_.z)(e=>{if(e.target===e.currentTarget){if((0,y.P)(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}}),u=(0,c.useMemo)(()=>({open:0===s}),[s]);return(0,f.sY)({ourProps:{ref:a,id:n,"aria-hidden":!0,onClick:l},theirProps:i,slot:u,defaultTag:"div",name:"Dialog.Overlay"})}),Title:(0,f.yV)(function(e,t){let r=(0,g.M)(),{id:n=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:s,setTitleId:o}]=ea("Dialog.Title"),a=(0,p.T)(t);(0,c.useEffect)(()=>(o(n),()=>o(null)),[n,o]);let l=(0,c.useMemo)(()=>({open:0===s}),[s]);return(0,f.sY)({ourProps:{ref:a,id:n},theirProps:i,slot:l,defaultTag:"h2",name:"Dialog.Title"})}),Description:U})},61363:function(e,t,r){"use strict";r.d(t,{R:function(){return i}});var n,i=((n=i||{}).Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n)},2740:function(e,t,r){"use strict";r.d(t,{h:function(){return b},k:function(){return v}});var n=r(67294),i=r(73935),s=r(12351),o=r(16723),a=r(31438),l=r(82180),u=r(23784),c=r(61595),h=r(51074),d=r(77896),f=r(73781);let p=n.Fragment,m=n.Fragment,y=(0,n.createContext)(null),g=(0,n.createContext)(null);function v(){let e=(0,n.useContext)(g),t=(0,n.useRef)([]),r=(0,f.z)(r=>(t.current.push(r),e&&e.register(r),()=>i(r))),i=(0,f.z)(r=>{let n=t.current.indexOf(r);-1!==n&&t.current.splice(n,1),e&&e.unregister(r)}),s=(0,n.useMemo)(()=>({register:r,unregister:i,portals:t}),[r,i,t]);return[t,(0,n.useMemo)(()=>function({children:e}){return n.createElement(g.Provider,{value:s},e)},[s])]}let b=Object.assign((0,s.yV)(function(e,t){let r=(0,n.useRef)(null),f=(0,u.T)((0,u.h)(e=>{r.current=e}),t),m=(0,h.i)(r),v=function(e){let t=(0,a.n)(),r=(0,n.useContext)(y),i=(0,h.i)(e),[s,o]=(0,n.useState)(()=>{if(!t&&null!==r||d.O.isServer)return null;let e=null==i?void 0:i.getElementById("headlessui-portal-root");if(e)return e;if(null===i)return null;let n=i.createElement("div");return n.setAttribute("id","headlessui-portal-root"),i.body.appendChild(n)});return(0,n.useEffect)(()=>{null!==s&&(null!=i&&i.body.contains(s)||null==i||i.body.appendChild(s))},[s,i]),(0,n.useEffect)(()=>{t||null!==r&&o(r.current)},[r,o,t]),s}(r),[b]=(0,n.useState)(()=>{var e;return d.O.isServer?null:null!=(e=null==m?void 0:m.createElement("div"))?e:null}),w=(0,n.useContext)(g),_=(0,l.H)();return(0,o.e)(()=>{!v||!b||v.contains(b)||(b.setAttribute("data-headlessui-portal",""),v.appendChild(b))},[v,b]),(0,o.e)(()=>{if(b&&w)return w.register(b)},[w,b]),(0,c.L)(()=>{var e;v&&b&&(b instanceof Node&&v.contains(b)&&v.removeChild(b),v.childNodes.length<=0&&(null==(e=v.parentElement)||e.removeChild(v)))}),_&&v&&b?(0,i.createPortal)((0,s.sY)({ourProps:{ref:f},theirProps:e,defaultTag:p,name:"Portal"}),b):null}),{Group:(0,s.yV)(function(e,t){let{target:r,...i}=e,o={ref:(0,u.T)(t)};return n.createElement(y.Provider,{value:r},(0,s.sY)({ourProps:o,theirProps:i,defaultTag:m,name:"Popover.Group"}))})})},44080:function(e,t,r){"use strict";r.d(t,{u:function(){return A}});var n,i=r(67294),s=r(12351),o=r(16567),a=r(32984),l=r(14879),u=r(16723),c=r(3855),h=r(82180),d=r(23784),f=r(9362);function p(e,...t){e&&t.length>0&&e.classList.add(...t)}function m(e,...t){e&&t.length>0&&e.classList.remove(...t)}var y=r(94192),g=r(73781),v=r(44067);function b(e=""){return e.split(" ").filter(e=>e.trim().length>1)}let w=(0,i.createContext)(null);w.displayName="TransitionContext";var _=((n=_||{}).Visible="visible",n.Hidden="hidden",n);let E=(0,i.createContext)(null);function S(e){return"children"in e?S(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function O(e,t){let r=(0,c.E)(e),n=(0,i.useRef)([]),o=(0,l.t)(),u=(0,y.G)(),h=(0,g.z)((e,t=s.l4.Hidden)=>{let i=n.current.findIndex(({el:t})=>t===e);-1!==i&&((0,a.E)(t,{[s.l4.Unmount](){n.current.splice(i,1)},[s.l4.Hidden](){n.current[i].state="hidden"}}),u.microTask(()=>{var e;!S(n)&&o.current&&(null==(e=r.current)||e.call(r))}))}),d=(0,g.z)(e=>{let t=n.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>h(e,s.l4.Unmount)}),f=(0,i.useRef)([]),p=(0,i.useRef)(Promise.resolve()),m=(0,i.useRef)({enter:[],leave:[],idle:[]}),v=(0,g.z)((e,r,n)=>{f.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([t])=>t!==e)),null==t||t.chains.current[r].push([e,new Promise(e=>{f.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(m.current[r].map(([e,t])=>t)).then(()=>e())})]),"enter"===r?p.current=p.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),b=(0,g.z)((e,t,r)=>{Promise.all(m.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=f.current.shift())||e()}).then(()=>r(t))});return(0,i.useMemo)(()=>({children:n,register:d,unregister:h,onStart:v,onStop:b,wait:p,chains:m}),[d,h,n,v,b,m,p])}function C(){}E.displayName="NestingContext";let k=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function T(e){var t;let r={};for(let n of k)r[n]=null!=(t=e[n])?t:C;return r}let x=s.AN.RenderStrategy,P=(0,s.yV)(function(e,t){let{show:r,appear:n=!1,unmount:a=!0,...l}=e,c=(0,i.useRef)(null),f=(0,d.T)(c,t);(0,h.H)();let p=(0,o.oJ)();if(void 0===r&&null!==p&&(r=(p&o.ZM.Open)===o.ZM.Open),![!0,!1].includes(r))throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,y]=(0,i.useState)(r?"visible":"hidden"),v=O(()=>{y("hidden")}),[b,_]=(0,i.useState)(!0),C=(0,i.useRef)([r]);(0,u.e)(()=>{!1!==b&&C.current[C.current.length-1]!==r&&(C.current.push(r),_(!1))},[C,r]);let k=(0,i.useMemo)(()=>({show:r,appear:n,initial:b}),[r,n,b]);(0,i.useEffect)(()=>{if(r)y("visible");else if(S(v)){let e=c.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&y("hidden")}else y("hidden")},[r,v]);let T={unmount:a},P=(0,g.z)(()=>{var t;b&&_(!1),null==(t=e.beforeEnter)||t.call(e)}),R=(0,g.z)(()=>{var t;b&&_(!1),null==(t=e.beforeLeave)||t.call(e)});return i.createElement(E.Provider,{value:v},i.createElement(w.Provider,{value:k},(0,s.sY)({ourProps:{...T,as:i.Fragment,children:i.createElement(I,{ref:f,...T,...l,beforeEnter:P,beforeLeave:R})},theirProps:{},defaultTag:i.Fragment,features:x,visible:"visible"===m,name:"Transition"})))}),I=(0,s.yV)(function(e,t){var r,n,_;let C;let{beforeEnter:k,afterEnter:P,beforeLeave:I,afterLeave:R,enter:A,enterFrom:j,enterTo:N,entered:D,leave:M,leaveFrom:L,leaveTo:F,...U}=e,$=(0,i.useRef)(null),q=(0,d.T)($,t),z=null==(r=U.unmount)||r?s.l4.Unmount:s.l4.Hidden,{show:Q,appear:B,initial:J}=function(){let e=(0,i.useContext)(w);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[K,H]=(0,i.useState)(Q?"visible":"hidden"),V=function(){let e=(0,i.useContext)(E);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:Y,unregister:G}=V;(0,i.useEffect)(()=>Y($),[Y,$]),(0,i.useEffect)(()=>{if(z===s.l4.Hidden&&$.current){if(Q&&"visible"!==K){H("visible");return}return(0,a.E)(K,{hidden:()=>G($),visible:()=>Y($)})}},[K,$,Y,G,Q,z]);let X=(0,c.E)({base:b(U.className),enter:b(A),enterFrom:b(j),enterTo:b(N),entered:b(D),leave:b(M),leaveFrom:b(L),leaveTo:b(F)}),W=(_={beforeEnter:k,afterEnter:P,beforeLeave:I,afterLeave:R},C=(0,i.useRef)(T(_)),(0,i.useEffect)(()=>{C.current=T(_)},[_]),C),Z=(0,h.H)();(0,i.useEffect)(()=>{if(Z&&"visible"===K&&null===$.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[$,K,Z]);let ee=B&&Q&&J,et=Z&&(!J||B)?Q?"enter":"leave":"idle",er=function(e=0){let[t,r]=(0,i.useState)(e),n=(0,l.t)(),s=(0,i.useCallback)(e=>{n.current&&r(t=>t|e)},[t,n]),o=(0,i.useCallback)(e=>!!(t&e),[t]);return{flags:t,addFlag:s,hasFlag:o,removeFlag:(0,i.useCallback)(e=>{n.current&&r(t=>t&~e)},[r,n]),toggleFlag:(0,i.useCallback)(e=>{n.current&&r(t=>t^e)},[r])}}(0),en=(0,g.z)(e=>(0,a.E)(e,{enter:()=>{er.addFlag(o.ZM.Opening),W.current.beforeEnter()},leave:()=>{er.addFlag(o.ZM.Closing),W.current.beforeLeave()},idle:()=>{}})),ei=(0,g.z)(e=>(0,a.E)(e,{enter:()=>{er.removeFlag(o.ZM.Opening),W.current.afterEnter()},leave:()=>{er.removeFlag(o.ZM.Closing),W.current.afterLeave()},idle:()=>{}})),es=O(()=>{H("hidden"),G($)},V);!function({immediate:e,container:t,direction:r,classes:n,onStart:i,onStop:s}){let o=(0,l.t)(),h=(0,y.G)(),d=(0,c.E)(r);(0,u.e)(()=>{e&&(d.current="enter")},[e]),(0,u.e)(()=>{let e=(0,f.k)();h.add(e.dispose);let r=t.current;if(r&&"idle"!==d.current&&o.current){var l,u,c;let t,o,h,y,g,v,b;return e.dispose(),i.current(d.current),e.add((l=n.current,u="enter"===d.current,c=()=>{e.dispose(),s.current(d.current)},o=u?"enter":"leave",h=(0,f.k)(),y=void 0!==c?(t={called:!1},(...e)=>{if(!t.called)return t.called=!0,c(...e)}):()=>{},"enter"===o&&(r.removeAttribute("hidden"),r.style.display=""),g=(0,a.E)(o,{enter:()=>l.enter,leave:()=>l.leave}),v=(0,a.E)(o,{enter:()=>l.enterTo,leave:()=>l.leaveTo}),b=(0,a.E)(o,{enter:()=>l.enterFrom,leave:()=>l.leaveFrom}),m(r,...l.base,...l.enter,...l.enterTo,...l.enterFrom,...l.leave,...l.leaveFrom,...l.leaveTo,...l.entered),p(r,...l.base,...g,...b),h.nextFrame(()=>{m(r,...l.base,...g,...b),p(r,...l.base,...g,...v),function(e,t){let r=(0,f.k)();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(e),[s,o]=[n,i].map(e=>{let[t=0]=e.split(",").filter(Boolean).map(e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e)).sort((e,t)=>t-e);return t}),a=s+o;if(0!==a){r.group(r=>{r.setTimeout(()=>{t(),r.dispose()},a),r.addEventListener(e,"transitionrun",e=>{e.target===e.currentTarget&&r.dispose()})});let n=r.addEventListener(e,"transitionend",e=>{e.target===e.currentTarget&&(t(),n())})}else t();r.add(()=>t()),r.dispose}(r,()=>(m(r,...l.base,...g),p(r,...l.base,...l.entered),y()))}),h.dispose)),e.dispose}},[r])}({immediate:ee,container:$,classes:X,direction:et,onStart:(0,c.E)(e=>{es.onStart($,e,en)}),onStop:(0,c.E)(e=>{es.onStop($,e,ei),"leave"!==e||S(es)||(H("hidden"),G($))})});let eo=U;return ee?eo={...eo,className:(0,v.A)(U.className,...X.current.enter,...X.current.enterFrom)}:(eo.className=(0,v.A)(U.className,null==(n=$.current)?void 0:n.className),""===eo.className&&delete eo.className),i.createElement(E.Provider,{value:es},i.createElement(o.up,{value:(0,a.E)(K,{visible:o.ZM.Open,hidden:o.ZM.Closed})|er.flags},(0,s.sY)({ourProps:{ref:q},theirProps:eo,defaultTag:"div",features:x,visible:"visible"===K,name:"Transition.Child"})))}),R=(0,s.yV)(function(e,t){let r=null!==(0,i.useContext)(w),n=null!==(0,o.oJ)();return i.createElement(i.Fragment,null,!r&&n?i.createElement(P,{ref:t,...e}):i.createElement(I,{ref:t,...e}))}),A=Object.assign(P,{Child:R,Root:P})},94192:function(e,t,r){"use strict";r.d(t,{G:function(){return s}});var n=r(67294),i=r(9362);function s(){let[e]=(0,n.useState)(i.k);return(0,n.useEffect)(()=>()=>e.dispose(),[e]),e}},14007:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});var n=r(67294),i=r(3855);function s(e,t,r,s){let o=(0,i.E)(r);(0,n.useEffect)(()=>{function r(e){o.current(e)}return(e=null!=e?e:window).addEventListener(t,r,s),()=>e.removeEventListener(t,r,s)},[e,t,s])}},73781:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(67294),i=r(3855);let s=function(e){let t=(0,i.E)(e);return n.useCallback((...e)=>t.current(...e),[t])}},19946:function(e,t,r){"use strict";r.d(t,{M:function(){return l}});var n,i=r(67294),s=r(16723),o=r(82180),a=r(77896);let l=null!=(n=i.useId)?n:function(){let e=(0,o.H)(),[t,r]=i.useState(e?()=>a.O.nextId():null);return(0,s.e)(()=>{null===t&&r(a.O.nextId())},[t]),null!=t?""+t:void 0}},14879:function(e,t,r){"use strict";r.d(t,{t:function(){return s}});var n=r(67294),i=r(16723);function s(){let e=(0,n.useRef)(!1);return(0,i.e)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},16723:function(e,t,r){"use strict";r.d(t,{e:function(){return s}});var n=r(67294),i=r(77896);let s=(e,t)=>{i.O.isServer?(0,n.useEffect)(e,t):(0,n.useLayoutEffect)(e,t)}},3855:function(e,t,r){"use strict";r.d(t,{E:function(){return s}});var n=r(67294),i=r(16723);function s(e){let t=(0,n.useRef)(e);return(0,i.e)(()=>{t.current=e},[e]),t}},61595:function(e,t,r){"use strict";r.d(t,{L:function(){return o}});var n=r(67294),i=r(81021),s=r(73781);function o(e){let t=(0,s.z)(e),r=(0,n.useRef)(!1);(0,n.useEffect)(()=>(r.current=!1,()=>{r.current=!0,(0,i.Y)(()=>{r.current&&t()})}),[t])}},39650:function(e,t,r){"use strict";r.d(t,{O:function(){return l}});var n=r(67294),i=r(84575),s=r(3855);function o(e,t,r){let i=(0,s.E)(t);(0,n.useEffect)(()=>{function t(e){i.current(e)}return document.addEventListener(e,t,r),()=>document.removeEventListener(e,t,r)},[e,r])}var a=r(7815);function l(e,t,r=!0){let s=(0,n.useRef)(!1);function l(r,n){if(!s.current||r.defaultPrevented)return;let o=n(r);if(null!==o&&o.getRootNode().contains(o)&&o.isConnected){for(let t of function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e)){if(null===t)continue;let e=t instanceof HTMLElement?t:t.current;if(null!=e&&e.contains(o)||r.composed&&r.composedPath().includes(e))return}return(0,i.sP)(o,i.tJ.Loose)||-1===o.tabIndex||r.preventDefault(),t(r,o)}}(0,n.useEffect)(()=>{requestAnimationFrame(()=>{s.current=r})},[r]);let u=(0,n.useRef)(null);o("pointerdown",e=>{var t,r;s.current&&(u.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),o("mousedown",e=>{var t,r;s.current&&(u.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),o("click",e=>{u.current&&(l(e,()=>u.current),u.current=null)},!0),o("touchend",e=>l(e,()=>e.target instanceof HTMLElement?e.target:null),!0),(0,a.s)("blur",e=>l(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}},51074:function(e,t,r){"use strict";r.d(t,{i:function(){return s}});var n=r(67294),i=r(15466);function s(...e){return(0,n.useMemo)(()=>(0,i.r)(...e),[...e])}},65958:function(e,t,r){"use strict";r.d(t,{H:function(){return l},v:function(){return a}});var n=r(67294),i=r(46045),s=r(73781),o=r(51074);function a({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var a;let l=(0,n.useRef)(null!=(a=null==r?void 0:r.current)?a:null),u=(0,o.i)(l),c=(0,s.z)(()=>{var r;let n=[];for(let t of e)null!==t&&(t instanceof HTMLElement?n.push(t):"current"in t&&t.current instanceof HTMLElement&&n.push(t.current));if(null!=t&&t.current)for(let e of t.current)n.push(e);for(let e of null!=(r=null==u?void 0:u.querySelectorAll("html > *, body > *"))?r:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&"headlessui-portal-root"!==e.id&&(e.contains(l.current)||n.some(t=>e.contains(t))||n.push(e));return n});return{resolveContainers:c,contains:(0,s.z)(e=>c().some(t=>t.contains(e))),mainTreeNodeRef:l,MainTreeNode:(0,n.useMemo)(()=>function(){return null!=r?null:n.createElement(i._,{features:i.A.Hidden,ref:l})},[l,r])}}function l(){let e=(0,n.useRef)(null);return{mainTreeNodeRef:e,MainTreeNode:(0,n.useMemo)(()=>function(){return n.createElement(i._,{features:i.A.Hidden,ref:e})},[e])}}},82180:function(e,t,r){"use strict";r.d(t,{H:function(){return o}});var n,i=r(67294),s=r(77896);function o(){let e;let t=(e="undefined"==typeof document,(0,(n||(n=r.t(i,2))).useSyncExternalStore)(()=>()=>{},()=>!1,()=>!e)),[o,a]=i.useState(s.O.isHandoffComplete);return o&&!1===s.O.isHandoffComplete&&a(!1),i.useEffect(()=>{!0!==o&&a(!0)},[o]),i.useEffect(()=>s.O.handoff(),[]),!t&&o}},23784:function(e,t,r){"use strict";r.d(t,{T:function(){return a},h:function(){return o}});var n=r(67294),i=r(73781);let s=Symbol();function o(e,t=!0){return Object.assign(e,{[s]:t})}function a(...e){let t=(0,n.useRef)(e);(0,n.useEffect)(()=>{t.current=e},[e]);let r=(0,i.z)(e=>{for(let r of t.current)null!=r&&("function"==typeof r?r(e):r.current=e)});return e.every(e=>null==e||(null==e?void 0:e[s]))?void 0:r}},45662:function(e,t,r){"use strict";r.d(t,{N:function(){return o},l:function(){return a}});var n,i=r(67294),s=r(7815),o=((n=o||{})[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n);function a(){let e=(0,i.useRef)(0);return(0,s.s)("keydown",t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)},!0),e}},96599:function(e,t,r){"use strict";r.d(t,{q:function(){return s}});var n=r(67294),i=r(73781);function s(e,t){let r=(0,n.useRef)([]),s=(0,i.z)(e);(0,n.useEffect)(()=>{let e=[...r.current];for(let[n,i]of t.entries())if(r.current[n]!==i){let n=s(t,e);return r.current=t,n}},[s,...t])}},7815:function(e,t,r){"use strict";r.d(t,{s:function(){return s}});var n=r(67294),i=r(3855);function s(e,t,r){let s=(0,i.E)(t);(0,n.useEffect)(()=>{function t(e){s.current(e)}return window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)},[e,r])}},46045:function(e,t,r){"use strict";r.d(t,{A:function(){return s},_:function(){return o}});var n,i=r(12351),s=((n=s||{})[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n);let o=(0,i.yV)(function(e,t){let{features:r=1,...n}=e,s={ref:t,"aria-hidden":(2&r)==2||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&r)==4&&(2&r)!=2&&{display:"none"}}};return(0,i.sY)({ourProps:s,theirProps:n,slot:{},defaultTag:"div",name:"Hidden"})})},16567:function(e,t,r){"use strict";r.d(t,{ZM:function(){return o},oJ:function(){return a},up:function(){return l}});var n,i=r(67294);let s=(0,i.createContext)(null);s.displayName="OpenClosedContext";var o=((n=o||{})[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n);function a(){return(0,i.useContext)(s)}function l({value:e,children:t}){return i.createElement(s.Provider,{value:e},t)}},31438:function(e,t,r){"use strict";r.d(t,{O:function(){return o},n:function(){return s}});var n=r(67294);let i=(0,n.createContext)(!1);function s(){return(0,n.useContext)(i)}function o(e){return n.createElement(i.Provider,{value:e.force},e.children)}},64103:function(e,t,r){"use strict";function n(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(null==t?void 0:t.getAttribute("disabled"))==="";return!(n&&function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(r))&&n}r.d(t,{P:function(){return n}})},44067:function(e,t,r){"use strict";function n(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}r.d(t,{A:function(){return n}})},9362:function(e,t,r){"use strict";r.d(t,{k:function(){return function e(){let t=[],r={addEventListener:(e,t,n,i)=>(e.addEventListener(t,n,i),r.add(()=>e.removeEventListener(t,n,i))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return r.add(()=>cancelAnimationFrame(t))},nextFrame:(...e)=>r.requestAnimationFrame(()=>r.requestAnimationFrame(...e)),setTimeout(...e){let t=setTimeout(...e);return r.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return(0,n.Y)(()=>{t.current&&e[0]()}),r.add(()=>{t.current=!1})},style(e,t,r){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(t){let r=e();return t(r),this.add(()=>r.dispose())},add:e=>(t.push(e),()=>{let r=t.indexOf(e);if(r>=0)for(let e of t.splice(r,1))e()}),dispose(){for(let e of t.splice(0))e()}};return r}}});var n=r(81021)},77896:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});var n=Object.defineProperty,i=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s=(e,t,r)=>(i(e,"symbol"!=typeof t?t+"":t,r),r);class o{constructor(){s(this,"current",this.detect()),s(this,"handoffState","pending"),s(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}}let a=new o},84575:function(e,t,r){"use strict";r.d(t,{C5:function(){return w},EO:function(){return E},GO:function(){return m},TO:function(){return d},fE:function(){return f},jA:function(){return S},sP:function(){return g},tJ:function(){return y},wI:function(){return v},z2:function(){return _}});var n,i,s,o,a,l=r(9362),u=r(32984),c=r(15466);let h=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var d=((n=d||{})[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n),f=((i=f||{})[i.Error=0]="Error",i[i.Overflow=1]="Overflow",i[i.Success=2]="Success",i[i.Underflow=3]="Underflow",i),p=((s=p||{})[s.Previous=-1]="Previous",s[s.Next=1]="Next",s);function m(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(h)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var y=((o=y||{})[o.Strict=0]="Strict",o[o.Loose=1]="Loose",o);function g(e,t=0){var r;return e!==(null==(r=(0,c.r)(e))?void 0:r.body)&&(0,u.E)(t,{0:()=>e.matches(h),1(){let t=e;for(;null!==t;){if(t.matches(h))return!0;t=t.parentElement}return!1}})}function v(e){let t=(0,c.r)(e);(0,l.k)().nextFrame(()=>{t&&!g(t.activeElement,0)&&w(e)})}var b=((a=b||{})[a.Keyboard=0]="Keyboard",a[a.Mouse=1]="Mouse",a);function w(e){null==e||e.focus({preventScroll:!0})}function _(e,t=e=>e){return e.slice().sort((e,r)=>{let n=t(e),i=t(r);if(null===n||null===i)return 0;let s=n.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function E(e,t){return S(m(),t,{relativeTo:e})}function S(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){var s,o,a;let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,u=Array.isArray(e)?r?_(e):e:m(e);i.length>0&&u.length>1&&(u=u.filter(e=>!i.includes(e))),n=null!=n?n:l.activeElement;let c=(()=>{if(5&t)return 1;if(10&t)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,u.indexOf(n))-1;if(4&t)return Math.max(0,u.indexOf(n))+1;if(8&t)return u.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=32&t?{preventScroll:!0}:{},f=0,p=u.length,y;do{if(f>=p||f+p<=0)return 0;let e=h+f;if(16&t)e=(e+p)%p;else{if(e<0)return 3;if(e>=p)return 1}null==(y=u[e])||y.focus(d),f+=c}while(y!==l.activeElement);return 6&t&&null!=(a=null==(o=null==(s=y)?void 0:s.matches)?void 0:o.call(s,"textarea,input"))&&a&&y.select(),2}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0))},32984:function(e,t,r){"use strict";function n(e,t,...r){if(e in t){let n=t[e];return"function"==typeof n?n(...r):n}let i=Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,n),i}r.d(t,{E:function(){return n}})},81021:function(e,t,r){"use strict";function n(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}r.d(t,{Y:function(){return n}})},15466:function(e,t,r){"use strict";r.d(t,{r:function(){return i}});var n=r(77896);function i(e){return n.O.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}},78657:function(e,t,r){"use strict";function n(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i(){return n()||/Android/gi.test(window.navigator.userAgent)}r.d(t,{gn:function(){return n},tq:function(){return i}})},12351:function(e,t,r){"use strict";r.d(t,{AN:function(){return l},l4:function(){return u},oA:function(){return p},sY:function(){return c},yV:function(){return f}});var n,i,s=r(67294),o=r(44067),a=r(32984),l=((n=l||{})[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n),u=((i=u||{})[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden",i);function c({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:s=!0,name:o}){let l=d(t,e);if(s)return h(l,r,n,o);let u=null!=i?i:0;if(2&u){let{static:e=!1,...t}=l;if(e)return h(t,r,n,o)}if(1&u){let{unmount:e=!0,...t}=l;return(0,a.E)(e?0:1,{0:()=>null,1:()=>h({...t,hidden:!0,style:{display:"none"}},r,n,o)})}return h(l,r,n,o)}function h(e,t={},r,n){let{as:i=r,children:a,refName:l="ref",...u}=m(e,["unmount","static"]),c=void 0!==e.ref?{[l]:e.ref}:{},h="function"==typeof a?a(t):a;"className"in u&&u.className&&"function"==typeof u.className&&(u.className=u.className(t));let f={};if(t){let e=!1,r=[];for(let[n,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&r.push(n);e&&(f["data-headlessui-state"]=r.join(" "))}if(i===s.Fragment&&Object.keys(p(u)).length>0){if(!(0,s.isValidElement)(h)||Array.isArray(h)&&h.length>1)throw Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map(e=>`  - ${e}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join(`
`)].join(`
`));let e=h.props,t="function"==typeof(null==e?void 0:e.className)?(...t)=>(0,o.A)(null==e?void 0:e.className(...t),u.className):(0,o.A)(null==e?void 0:e.className,u.className);return(0,s.cloneElement)(h,Object.assign({},d(h.props,p(m(u,["ref"]))),f,c,function(...e){return{ref:e.every(e=>null==e)?void 0:t=>{for(let r of e)null!=r&&("function"==typeof r?r(t):r.current=t)}}}(h.ref,c.ref),t?{className:t}:{}))}return(0,s.createElement)(i,Object.assign({},m(u,["ref"]),i!==s.Fragment&&c,i!==s.Fragment&&f),h)}function d(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(e=>[e,void 0])));for(let e in r)Object.assign(t,{[e](t,...n){for(let i of r[e]){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;i(t,...n)}}});return t}function f(e){var t;return Object.assign((0,s.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function p(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function m(e,t=[]){let r=Object.assign({},e);for(let e of t)e in r&&delete r[e];return r}},68947:function(e,t,r){"use strict";r.r(t),r.d(t,{BrowserCookieAuthStorageAdapter:function(){return tQ},CookieAuthStorageAdapter:function(){return tz},DEFAULT_COOKIE_OPTIONS:function(){return tq},createSupabaseClient:function(){return tB},isBrowser:function(){return t$},parseCookies:function(){return tJ},parseSupabaseCookie:function(){return tF},serializeCookie:function(){return tK},stringifySupabaseSession:function(){return tU}}),new TextEncoder;let n=new TextDecoder,i=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r};var s,o,a,l,u,c,h,d,f,p,m,y,g,v,b,w,_,E,S,O,C,k=crypto;k.getRandomValues.bind(k),Symbol();let T=e=>{let t=e;t instanceof Uint8Array&&(t=n.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return i(t)}catch(e){throw TypeError("The input to be decoded is not correctly encoded.")}},x=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,89743)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)};class P extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class I extends P{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class R extends P{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class A extends P{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}class j{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=x(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r,n,i,s,o;return n=this,i=void 0,s=void 0,o=function*(){try{let n;let{headers:i,method:s,body:o}=t,a={};o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&("undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",n=o):"string"==typeof o?(a["Content-Type"]="text/plain",n=o):"undefined"!=typeof FormData&&o instanceof FormData?n=o:(a["Content-Type"]="application/json",n=JSON.stringify(o)));let l=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:n}).catch(e=>{throw new I(e)}),u=l.headers.get("x-relay-error");if(u&&"true"===u)throw new R(l);if(!l.ok)throw new A(l);let c=(null!==(r=l.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return{data:"application/json"===c?yield l.json():"application/octet-stream"===c?yield l.blob():"multipart/form-data"===c?yield l.formData():yield l.text(),error:null}}catch(e){return{data:null,error:e}}},new(s||(s=Promise))(function(e,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,a)}l((o=o.apply(n,i||[])).next())})}}var N=r(89743);class D{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=N.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n;let i=null,s=null,o=null,a=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){let t=await e.text();""===t||(s="text/csv"===this.headers.Accept?t:this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}let n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),u=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&u&&u.length>1&&(o=parseInt(u[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(i={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,a=406,l="Not Acceptable"):s=1===s.length?s[0]:null)}else{let t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(s=[],i=null,a=200,l="OK")}catch(r){404===e.status&&""===t?(a=204,l="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(n=null==i?void 0:i.details)||void 0===n?void 0:n.includes("0 rows"))&&(i=null,a=200,l="OK"),i&&this.shouldThrowOnError)throw i}return{error:i,data:s,count:o,status:a,statusText:l}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null==e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}}class M extends D{select(e){let t=!1,r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){let s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){let i=void 0===n?"offset":`${n}.offset`,s=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var o;let a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class L extends M{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=t.map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";"plain"===n?i="pl":"phrase"===n?i="ph":"websearch"===n&&(i="w");let s=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class F{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){let n=!1,i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new L({method:t?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){let n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new L({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){let s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new L({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new L({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new L({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}let U={"X-Client-Info":"postgrest-js/1.9.0"};class ${constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},U),t),this.schemaName=r,this.fetch=n}from(e){return new F(new URL(`${this.url}/${e}`),{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new $(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,count:n}={}){let i,s;let o=new URL(`${this.url}/rpc/${e}`);r?(i="HEAD",Object.entries(t).forEach(([e,t])=>{o.searchParams.append(e,`${t}`)})):(i="POST",s=t);let a=Object.assign({},this.headers);return n&&(a.Prefer=`count=${n}`),new L({method:i,url:o,headers:a,schema:this.schemaName,body:s,fetch:this.fetch,allowEmpty:!1})}}let q={"X-Client-Info":"realtime-js/2.9.0"};(s=y||(y={}))[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed",(o=g||(g={})).closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving",(a=v||(v={})).close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token",(b||(b={})).websocket="websocket",(l=w||(w={})).Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed";class z{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Q{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let n=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,o=r.decode(e.slice(s,s+n));s+=n;let a=r.decode(e.slice(s,s+i));return s+=i,{ref:null,topic:o,event:a,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class B{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(u=_||(_={})).SYNC="sync",u.JOIN="join",u.LEAVE="leave";class J{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=J.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=J.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=J.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){let i=this.cloneDeep(e),s=this.transformState(t),o={},a={};return this.map(i,(e,t)=>{s[e]||(a[e]=t)}),this.map(s,(e,t)=>{let r=i[e];if(r){let n=t.map(e=>e.presence_ref),i=r.map(e=>e.presence_ref),s=t.filter(e=>0>i.indexOf(e.presence_ref)),l=r.filter(e=>0>n.indexOf(e.presence_ref));s.length>0&&(o[e]=s),l.length>0&&(a[e]=l)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:a},r,n)}static syncDiff(e,t,r,n){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(t,n)=>{var i;let s=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(n),s.length>0){let r=e[t].map(e=>e.presence_ref),n=s.filter(e=>0>r.indexOf(e.presence_ref));e[t].unshift(...n)}r(t,s,n)}),this.map(s,(t,r)=>{let i=e[t];if(!i)return;let s=r.map(e=>e.presence_ref);i=i.filter(e=>0>s.indexOf(e.presence_ref)),e[t]=i,n(t,i,r),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,r)=>{let n=e[r];return"metas"in n?t[r]=n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(c=E||(E={})).abstime="abstime",c.bool="bool",c.date="date",c.daterange="daterange",c.float4="float4",c.float8="float8",c.int2="int2",c.int4="int4",c.int4range="int4range",c.int8="int8",c.int8range="int8range",c.json="json",c.jsonb="jsonb",c.money="money",c.numeric="numeric",c.oid="oid",c.reltime="reltime",c.text="text",c.time="time",c.timestamp="timestamp",c.timestamptz="timestamptz",c.timetz="timetz",c.tsrange="tsrange",c.tstzrange="tstzrange";let K=(e,t,r={})=>{var n;let i=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((r,n)=>(r[n]=H(n,e,t,i),r),{})},H=(e,t,r,n)=>{let i=t.find(t=>t.name===e),s=null==i?void 0:i.type,o=r[e];return s&&!n.includes(s)?V(s,o):Y(o)},V=(e,t)=>{if("_"===e.charAt(0))return Z(t,e.slice(1,e.length));switch(e){case E.bool:return G(t);case E.float4:case E.float8:case E.int2:case E.int4:case E.int8:case E.numeric:case E.oid:return X(t);case E.json:case E.jsonb:return W(t);case E.timestamp:return ee(t);case E.abstime:case E.date:case E.daterange:case E.int4range:case E.int8range:case E.money:case E.reltime:case E.text:case E.time:case E.timestamptz:case E.timetz:case E.tsrange:case E.tstzrange:default:return Y(t)}},Y=e=>e,G=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},X=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},W=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},Z=(e,t)=>{if("string"!=typeof e)return e;let r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;let i=e.slice(1,r);try{n=JSON.parse("["+i+"]")}catch(e){n=i?i.split(","):[]}return n.map(e=>V(t,e))}return e},ee=e=>"string"==typeof e?e.replace(" ","T"):e;(h=S||(S={})).ALL="*",h.INSERT="INSERT",h.UPDATE="UPDATE",h.DELETE="DELETE",(d=O||(O={})).BROADCAST="broadcast",d.PRESENCE="presence",d.POSTGRES_CHANGES="postgres_changes",(f=C||(C={})).SUBSCRIBED="SUBSCRIBED",f.TIMED_OUT="TIMED_OUT",f.CLOSED="CLOSED",f.CHANNEL_ERROR="CHANNEL_ERROR";class et{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=g.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new B(this,v.join,this.params,this.timeout),this.rejoinTimer=new z(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=g.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=g.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=g.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=g.errored,this.rejoinTimer.scheduleTimeout())}),this._on(v.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new J(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s}}=this.params;this._onError(t=>e&&e("CHANNEL_ERROR",t)),this._onClose(()=>e&&e("CLOSED"));let o={},a={broadcast:i,presence:s,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[]};this.socket.accessToken&&(o.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:a},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:t})=>{var r;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0===t){e&&e("SUBSCRIBED");return}{let n=this.bindings.postgres_changes,i=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,s=[];for(let r=0;r<i;r++){let i=n[r],{filter:{event:o,schema:a,table:l,filter:u}}=i,c=t&&t[r];if(c&&c.event===o&&c.schema===a&&c.table===l&&c.filter===u)s.push(Object.assign(Object.assign({},i),{id:c.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=s,e&&e("SUBSCRIBED");return}}).receive("error",t=>{e&&e("CHANNEL_ERROR",Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,i,s;let o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(i=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===i?void 0:i.broadcast)||void 0===s?void 0:s.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("timeout",()=>r("timed out"))});{let{event:i,payload:s}=e,o={method:"POST",headers:{apikey:null!==(r=this.socket.accessToken)&&void 0!==r?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s}]})};try{if((await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout)).ok)return"ok";return"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=g.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(v.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let n=new B(this,v.leave,{},e);n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return(e=(e=e.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,r){let n=new AbortController,i=setTimeout(()=>n.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),s}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new B(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,i;let s=e.toLocaleLowerCase(),{close:o,error:a,leave:l,join:u}=v;if(r&&[o,a,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let c=this._onMessage(s,t,r);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return(null===(t=e.filter)||void 0===t?void 0:t.event)==="*"||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s}).map(e=>e.callback(c,r)):null===(i=this.bindings[s])||void 0===i||i.filter(e=>{var r,n,i,o,a,l;if(!["broadcast","presence","postgres_changes"].includes(s))return e.type.toLocaleLowerCase()===s;if("id"in e){let s=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{let r=null===(a=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof c&&"ids"in c){let e=c.data,{schema:t,table:r,commit_timestamp:n,type:i,errors:s}=e;c=Object.assign(Object.assign({},{schema:t,table:r,commit_timestamp:n,eventType:i,new:{},old:{},errors:s}),this._getPayloadRecords(e))}e.callback(c,r)})}_isClosed(){return this.state===g.closed}_isJoined(){return this.state===g.joined}_isJoining(){return this.state===g.joining}_isLeaving(){return this.state===g.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&et.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(v.close,{},e)}_onError(e){this._on(v.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=g.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=K(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=K(e.columns,e.old_record)),t}}let er=()=>{},en="undefined"!=typeof WebSocket,ei=en?WebSocket:r(57026);class es{constructor(e,t){var n;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=q,this.params={},this.timeout=1e4,this.transport=ei,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=er,this.conn=null,this.sendBuffer=[],this.serializer=new Q,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,89743)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${b.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey;i&&(this.accessToken=i),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new z(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){!this.conn&&(en?this.conn=new this.transport(this._endPointURL()):this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case y.connecting:return w.Connecting;case y.open:return w.Open;case y.closing:return w.Closing;default:return w.Closed}}isConnected(){return this.connectionState()===w.Open}channel(e,t={config:{}}){let r=new et(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){let{topic:t,event:r,payload:n,ref:i}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(v.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:r,payload:n,ref:i}=e;(i&&i===this.pendingHeartbeatRef||r===(null==n?void 0:n.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${r} ${i&&"("+i+")"||""}`,n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,i)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(v.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class eo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ea(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class el extends eo{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eu extends eo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}let ec=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,89743)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},eh=()=>{var e,t,n,i;return e=void 0,t=void 0,n=void 0,i=function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(r.bind(r,89743))).Response:Response},new(n||(n=Promise))(function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};var ed=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};let ef=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ep=(e,t)=>ed(void 0,void 0,void 0,function*(){e instanceof(yield eh())?e.json().then(r=>{t(new el(ef(r),e.status||500))}).catch(e=>{t(new eu(ef(e),e))}):t(new eu(ef(e),e))}),em=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function ey(e,t,r,n,i,s){return ed(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,em(t,n,i,s)).then(e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>ep(e,a))})})}function eg(e,t,r,n){return ed(this,void 0,void 0,function*(){return ey(e,"GET",t,r,n)})}function ev(e,t,r,n,i){return ed(this,void 0,void 0,function*(){return ey(e,"POST",t,n,i,r)})}function eb(e,t,r,n,i){return ed(this,void 0,void 0,function*(){return ey(e,"DELETE",t,n,i,r)})}var ew=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};let e_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eS{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=ec(n)}uploadOrUpdate(e,t,r,n){return ew(this,void 0,void 0,function*(){try{let i;let s=Object.assign(Object.assign({},eE),n),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?((i=new FormData).append("cacheControl",s.cacheControl),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(i=r).append("cacheControl",s.cacheControl):(i=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType);let a=this._removeEmptyFolders(t),l=this._getFinalPath(a),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:o},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{})),c=yield u.json();if(u.ok)return{data:{path:a,id:c.Id,fullPath:c.Key},error:null};return{data:null,error:c}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}upload(e,t,r){return ew(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return ew(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let e;let t=Object.assign({upsert:eE.upsert},n),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r).append("cacheControl",t.cacheControl):(e=r,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);let a=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:s}),l=yield a.json();if(a.ok)return{data:{path:i,fullPath:l.Key},error:null};return{data:null,error:l}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e){return ew(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e),r=yield ev(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),n=new URL(this.url+r.url),i=n.searchParams.get("token");if(!i)throw new eo("No token returned by API");return{data:{signedUrl:n.toString(),path:e,token:i},error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}update(e,t,r){return ew(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return ew(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}copy(e,t){return ew(this,void 0,void 0,function*(){try{return{data:{path:(yield ev(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,r){return ew(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ev(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,r){return ew(this,void 0,void 0,function*(){try{let n=yield ev(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}download(e,t){return ew(this,void 0,void 0,function*(){let r=void 0!==(null==t?void 0:t.transform),n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=n?`?${n}`:"";try{let t=this._getFinalPath(e),n=yield eg(this.fetch,`${this.url}/${r?"render/image/authenticated":"object"}/${t}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}getPublicUrl(e,t){let r=this._getFinalPath(e),n=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&n.push(i);let s=void 0!==(null==t?void 0:t.transform),o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&n.push(o);let a=n.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s?"render/image":"object"}/public/${r}${a}`)}}}remove(e){return ew(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}list(e,t,r){return ew(this,void 0,void 0,function*(){try{let n=Object.assign(Object.assign(Object.assign({},e_),t),{prefix:e||""});return{data:yield ev(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let eO={"X-Client-Info":"storage-js/2.5.5"};var eC=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};class ek{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},eO),t),this.fetch=ec(r)}listBuckets(){return eC(this,void 0,void 0,function*(){try{return{data:yield eg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}getBucket(e){return eC(this,void 0,void 0,function*(){try{return{data:yield eg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}createBucket(e,t={public:!1}){return eC(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return eC(this,void 0,void 0,function*(){try{return{data:yield function(e,t,r,n,i){return ed(this,void 0,void 0,function*(){return ey(e,"PUT",t,n,void 0,r)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}emptyBucket(e){return eC(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}deleteBucket(e){return eC(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(ea(e))return{data:null,error:e};throw e}})}}class eT extends ek{constructor(e,t={},r){super(e,t,r)}from(e){return new eS(this.url,this.headers,e,this.fetch)}}let ex="";ex="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let eP={"X-Client-Info":`supabase-js-${ex}/2.39.0`},eI=e=>{let t;return t=e||("undefined"==typeof fetch?N.default:fetch),(...e)=>t(...e)},eR=()=>"undefined"==typeof Headers?N.Headers:Headers,eA=(e,t,r)=>{let n=eI(r),i=eR();return(r,s)=>{var o,a,l,u;return o=void 0,a=void 0,l=void 0,u=function*(){var o;let a=null!==(o=yield t())&&void 0!==o?o:e,l=new i(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),n(r,Object.assign(Object.assign({},s),{headers:l}))},new(l||(l=Promise))(function(e,t){function r(e){try{i(u.next(e))}catch(e){t(e)}}function n(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof l?i:new l(function(e){e(i)})).then(r,n)}i((u=u.apply(o,a||[])).next())})}},ej=()=>"undefined"!=typeof document,eN={tested:!1,writable:!1},eD=()=>{if(!ej())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(eN.tested)return eN.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),eN.tested=!0,eN.writable=!0}catch(e){eN.tested=!0,eN.writable=!1}return eN.writable};function eM(e){let t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}let eL=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,89743)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},eF=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,eU=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},e$=async(e,t)=>{let r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},eq=async(e,t)=>{await e.removeItem(t)};class ez{constructor(){this.promise=new ez.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function eQ(e){let t=e.split(".");if(3!==t.length)throw Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function(e){let t,r,n,i,s,o,a;let l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)i=l.indexOf(e.charAt(c++)),s=l.indexOf(e.charAt(c++)),o=l.indexOf(e.charAt(c++)),a=l.indexOf(e.charAt(c++)),t=i<<2|s>>4,r=(15&s)<<4|o>>2,n=(3&o)<<6|a,u+=String.fromCharCode(t),64!=o&&0!=r&&(u+=String.fromCharCode(r)),64!=a&&0!=n&&(u+=String.fromCharCode(n));return u}(t[1]))}async function eB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eJ(e){return("0"+e.toString(16)).substr(-2)}function eK(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,eJ).join("")}async function eH(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(e=>String.fromCharCode(e)).join("")}async function eV(e){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder?btoa(await eH(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e)}ez.promiseConstructor=Promise;class eY extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function eG(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class eX extends eY{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eW extends eY{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class eZ extends eY{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class e0 extends eZ{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class e1 extends eZ{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class e3 extends eZ{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class e2 extends eZ{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e4 extends eZ{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e6 extends eZ{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function e5(e){return eG(e)&&"AuthRetryableFetchError"===e.name}class e7 extends eZ{constructor(e,t,r){super(e,"AuthWeakPasswordError",t),this.reasons=r}}var e9=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let e8=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),te=[502,503,504];async function tt(e){let t;if(!eF(e))throw new e6(e8(e),0);if(te.includes(e.status))throw new e6(e8(e),e.status);try{t=await e.json()}catch(e){throw new eW(e8(e),e)}if("object"==typeof t&&t&&"object"==typeof t.weak_password&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new e7(e8(t),e.status,t.weak_password.reasons);throw new eX(e8(t),e.status||500)}let tr=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function tn(e,t,r,n){var i;let s=Object.assign({},null==n?void 0:n.headers);(null==n?void 0:n.jwt)&&(s.Authorization=`Bearer ${n.jwt}`);let o=null!==(i=null==n?void 0:n.query)&&void 0!==i?i:{};(null==n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ti(e,t,r+a,{headers:s,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function ti(e,t,r,n,i,s){let o;let a=tr(t,n,i,s);try{o=await e(r,a)}catch(e){throw console.error(e),new e6(e8(e),0)}if(o.ok||await tt(o),null==n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(e){await tt(e)}}function ts(e){var t,r;let n=null;return e.access_token&&e.refresh_token&&e.expires_in&&(n=Object.assign({},e),!e.expires_at)&&(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)),{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function to(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ta(e){return{data:e,error:null}}function tl(e){let{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e;return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},user:Object.assign({},e9(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function tu(e){return e}var tc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class th{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=eL(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await tn(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(eG(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await tn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:to})}catch(e){if(eG(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,r=tc(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await tn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:tl,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(eG(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await tn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:to})}catch(e){if(eG(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,n,i,s,o,a;try{let l={nextPage:null,lastPage:0,total:0},u=await tn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(i=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==i?i:""},xform:tu});if(u.error)throw u.error;let c=await u.json(),h=null!==(s=u.headers.get("x-total-count"))&&void 0!==s?s:0,d=null!==(a=null===(o=u.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(eG(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){try{return await tn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:to})}catch(e){if(eG(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){try{return await tn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:to})}catch(e){if(eG(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){try{return await tn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:to})}catch(e){if(eG(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){try{let{data:t,error:r}=await tn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(eG(e))return{data:null,error:e};throw e}}async _deleteFactor(e){try{return{data:await tn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(eG(e))return{data:null,error:e};throw e}}}let td="2.60.1",tf={"X-Client-Info":`gotrue-js/${td}`},tp={getItem:e=>eD()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{eD()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{eD()&&globalThis.localStorage.removeItem(e)}};function tm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}globalThis&&eD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class ty extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let tg={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tf,flowType:"implicit",debug:!1};async function tv(e,t,r){return await r()}class tb{constructor(e){var t;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tb.nextInstanceID,tb.nextInstanceID+=1,this.instanceID>0&&ej()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let r=Object.assign(Object.assign({},tg),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new th({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=eL(r.fetch),this.lock=r.lock||tv,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:eD()?this.storage=tp:(this.memoryStorage={},this.storage=tm(this.memoryStorage)):(this.memoryStorage={},this.storage=tm(this.memoryStorage)),ej()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(t=this.broadcastChannel)||void 0===t||t.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${td}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){try{let e=!!ej()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:t,error:r}=await this._getSessionFromURL(e);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),(null==r?void 0:r.message)==="Identity is already linked"||(null==r?void 0:r.message)==="Identity is already linked to another user")return{error:r};return await this._removeSession(),{error:r}}let{session:n,redirectType:i}=t;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(eG(e))return{error:e};return{error:new eW("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,r,n;try{let i;if(await this._removeSession(),"email"in e){let{email:r,password:n,options:s}=e,o=null,a=null;if("pkce"===this.flowType){let e=eK();await eU(this.storage,`${this.storageKey}-code-verifier`,e),o=await eV(e),a=e===o?"plain":"s256"}i=await tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:a},xform:ts})}else if("phone"in e){let{phone:t,password:s,options:o}=e;i=await tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null==o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(n=null==o?void 0:o.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:ts})}else throw new e3("You must provide either an email or phone number and a password");let{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};let a=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(e){if(eG(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if(await this._removeSession(),"email"in e){let{email:r,password:n,options:i}=e;t=await tn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:ts})}else if("phone"in e){let{phone:r,password:n,options:i}=e;t=await tn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:ts})}else throw new e3("You must provide either an email or phone number and a password");let{data:r,error:n}=t;if(n)return{data:{user:null,session:null},error:n};if(!r||!r.session||!r.user)return{data:{user:null,session:null},error:new e1};return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:n}}catch(e){if(eG(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,r,n,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let[t,r]=(await e$(this.storage,`${this.storageKey}-code-verifier`)).split("/"),{data:n,error:i}=await tn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:ts});return(await eq(this.storage,`${this.storageKey}-code-verifier`),i)?{data:{user:null,session:null,redirectType:null},error:i}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:null!=r?r:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new e1}}async signInWithIdToken(e){await this._removeSession();try{let{options:t,provider:r,token:n,access_token:i,nonce:s}=e,{data:o,error:a}=await tn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:ts});if(a)return{data:{user:null,session:null},error:a};if(!o||!o.session||!o.user)return{data:{user:null,session:null},error:new e1};return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:a}}catch(e){if(eG(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,r,n,i,s;try{if(await this._removeSession(),"email"in e){let{email:n,options:i}=e,s=null,o=null;if("pkce"===this.flowType){let e=eK();await eU(this.storage,`${this.storageKey}-code-verifier`,e),s=await eV(e),o=e===s?"plain":"s256"}let{error:a}=await tn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(r=null==i?void 0:i.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){let{phone:t,options:r}=e,{data:o,error:a}=await tn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(i=null==r?void 0:r.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(s=null==r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new e3("You must provide either an email or phone number.")}catch(e){if(eG(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,r;try{let n,i;"email_change"!==e.type&&"phone_change"!==e.type&&await this._removeSession(),"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(r=e.options)||void 0===r?void 0:r.captchaToken);let{data:s,error:o}=await tn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ts});if(o)throw o;if(!s)throw Error("An error occurred on token verification.");let a=s.session,l=s.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(e){if(eG(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,r,n;try{await this._removeSession();let i=null,s=null;if("pkce"===this.flowType){let e=eK();await eU(this.storage,`${this.storageKey}-code-verifier`,e),i=await eV(e),s=e===i?"plain":"s256"}return await tn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:ta})}catch(e){if(eG(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new e0;let{error:n}=await tn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(eG(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{"email_change"!=e.type&&"phone_change"!=e.type&&await this._removeSession();let t=`${this.url}/resend`;if("email"in e){let{email:r,type:n,options:i}=e,{error:s}=await tn(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){let{phone:r,type:n,options:i}=e,{data:s,error:o}=await tn(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o}}throw new e3("You must provide either an email or phone number and a type")}catch(e){if(eG(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let e=null,t=await e$(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let r=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r)return{data:{session:e},error:null};let{session:n,error:i}=await this._callRefreshToken(e.refresh_token);if(i)return{data:{session:null},error:i};return{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{if(e)return await tn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:to});return await this._useSession(async e=>{var t,r;let{data:n,error:i}=e;if(i)throw i;return await tn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(t=n.session)||void 0===t?void 0:t.access_token)&&void 0!==r?r:void 0,xform:to})})}catch(e){if(eG(e))return{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{let{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new e0;let s=n.session,o=null,a=null;if("pkce"===this.flowType&&null!=e.email){let e=eK();await eU(this.storage,`${this.storageKey}-code-verifier`,e),o=await eV(e),a=e===o?"plain":"s256"}let{data:l,error:u}=await tn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:s.access_token,xform:to});if(u)throw u;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(e){if(eG(e))return{data:{user:null},error:e};throw e}}_decodeJWT(e){return eQ(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new e0;let t=Date.now()/1e3,r=t,n=!0,i=null,s=eQ(e.access_token);if(s.exp&&(n=(r=s.exp)<=t),n){let{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;i={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(e){if(eG(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){let{data:n,error:i}=t;if(i)throw i;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new e0;let{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(eG(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e){try{if(!ej())throw new e2("No browser detected.");if("implicit"!==this.flowType||this._isImplicitGrantFlow()){if("pkce"==this.flowType&&!e)throw new e4("Not a valid PKCE flow url.")}else throw new e2("Not a valid implicit grant flow url.");let t=eM(window.location.href);if(e){if(!t.code)throw new e4("No code detected.");let{data:e,error:r}=await this._exchangeCodeForSession(t.code);if(r)throw r;let n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:e.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new e2(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});let{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:s,expires_in:o,expires_at:a,token_type:l}=t;if(!i||!o||!s||!l)throw new e2("No session defined in URL");let u=Math.round(Date.now()/1e3),c=parseInt(o),h=u+c;a&&(h=parseInt(a));let d=h-u;1e3*d<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${c}s`);let f=h-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",f,h,u);let{data:p,error:m}=await this._getUser(i);if(m)throw m;let y={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:c,expires_at:h,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(e){if(eG(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){let e=eM(window.location.href);return!!(ej()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=eM(window.location.href),t=await e$(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return{error:i};let s=null===(r=n.session)||void 0===r?void 0:r.access_token;if(s){let{error:t}=await this.admin.signOut(s,e);if(t&&!(eG(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status)))return{error:t}}return"others"!==e&&(await this._removeSession(),await eq(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{let{data:{session:n},error:i}=t;if(i)throw i;await (null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(t){await (null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;if("pkce"===this.flowType){let e=eK();await eU(this.storage,`${this.storageKey}-code-verifier`,`${e}/PASSWORD_RECOVERY`),r=await eV(e),n=e===r?"plain":"s256"}try{return await tn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(eG(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{let{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(e){if(eG(e))return{data:null,error:e};throw e}}async linkIdentity(e){var t;try{let{data:r,error:n}=await this._useSession(async t=>{var r,n,i,s,o;let{data:a,error:l}=t;if(l)throw l;let u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await tn(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(o=null===(s=a.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})});if(n)throw n;return!ej()||(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)||window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(t){if(eG(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:s}=t;if(s)throw s;return await tn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(e){if(eG(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var r,n;let i=Date.now();return await (r=async r=>(await eB(200*r),this._debug(t,"refreshing attempt",r),await tn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ts})),n=(e,t,r)=>r&&r.error&&e5(r.error)&&Date.now()+(e+1)*200-i<3e4,new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{let t=await r(i);if(!n(i,null,t)){e(t);return}}catch(e){if(!n(i,e)){t(e);return}}})()}))}catch(e){if(this._debug(t,"error",e),eG(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ej()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;let t="#_recoverAndRefresh()";this._debug(t,"begin");try{let r=await e$(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),null!==r&&await this._removeSession();return}let n=Math.round(Date.now()/1e3),i=(null!==(e=r.expires_at)&&void 0!==e?e:1/0)<n+10;if(this._debug(t,`session has${i?"":" not"} expired with margin of 10s`),i){if(this.autoRefreshToken&&r.refresh_token){let{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),e5(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(e){this._debug(t,"error",e),console.error(e);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new e0;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ez;let{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new e0;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(e){if(this._debug(n,"error",e),eG(e)){let r={session:null,error:e};return e5(e)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(r),r}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){let n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});let n=[],i=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){n.push(e)}});if(await Promise.all(i),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await eU(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await eq(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ej()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let n=Math.floor((1e3*r.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ty)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ej()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if("visible"!==document.visibilityState){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){let n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){let e=eK();await eU(this.storage,`${this.storageKey}-code-verifier`,e);let t=await eV(e),r=e===t?"plain":"s256";this._debug("PKCE","code verifier",`${e.substring(0,5)}...`,"code challenge",t,"method",r);let i=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(r)}`});n.push(i.toString())}if(null==r?void 0:r.queryParams){let e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;return i?{data:null,error:i}:await tn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(e){if(eG(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:s}=t;if(s)return{data:null,error:s};let{data:o,error:a}=await tn(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token});return a?{data:null,error:a}:((null===(n=null==o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(e){if(eG(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return{data:null,error:i};let{data:s,error:o}=await tn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(e){if(eG(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;return i?{data:null,error:i}:await tn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(e){if(eG(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){let{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let r=(null==e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;let{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let s=this._decodeJWT(n.access_token),o=null;s.aal&&(o=s.aal);let a=o;return(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(a="aal2"),{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:s.amr||[]},error:null}}))}}tb.nextInstanceID=0;class tw extends tb{constructor(e){super(e)}}let t_={headers:eP},tE={schema:"public"},tS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tO={};class tC{constructor(e,t,r){var n,i,s,o,a,l,u,c;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw Error("supabaseUrl is required.");if(!t)throw Error("supabaseKey is required.");let h=e.replace(/\/$/,"");this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;let d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f=function(e,t){let{db:r,auth:n,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:u}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s)}}(null!=r?r:{},{db:tE,realtime:tO,auth:Object.assign(Object.assign({},tS),{storageKey:d}),global:t_});this.storageKey=null!==(i=null===(n=f.auth)||void 0===n?void 0:n.storageKey)&&void 0!==i?i:"",this.headers=null!==(o=null===(s=f.global)||void 0===s?void 0:s.headers)&&void 0!==o?o:{},this.auth=this._initSupabaseAuthClient(null!==(a=f.auth)&&void 0!==a?a:{},this.headers,null===(l=f.global)||void 0===l?void 0:l.fetch),this.fetch=eA(t,this._getAccessToken.bind(this),null===(u=f.global)||void 0===u?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},f.realtime)),this.rest=new $(`${h}/rest/v1`,{headers:this.headers,schema:null===(c=f.db)||void 0===c?void 0:c.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new j(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eT(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,r,n,i,s;return r=this,n=void 0,i=void 0,s=function*(){let{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null},new(i||(i=Promise))(function(e,t){function o(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(o,a)}l((s=s.apply(r,n||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:i,flowType:s,debug:o},a,l){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tw({url:this.authUrl,headers:Object.assign(Object.assign({},u),a),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,flowType:s,debug:o,fetch:l})}_initRealtimeClient(e){return new es(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==r?(this.realtime.setAuth(null!=r?r:null),this.changedAccessToken=r):"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}}let tk=(e,t,r)=>new tC(e,t,r);var tT=Object.create,tx=Object.defineProperty,tP=Object.getOwnPropertyDescriptor,tI=Object.getOwnPropertyNames,tR=Object.getPrototypeOf,tA=Object.prototype.hasOwnProperty,tj=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of tI(t))tA.call(e,i)||i===r||tx(e,i,{get:()=>t[i],enumerable:!(n=tP(t,i))||n.enumerable});return e},tN=(e,t,r)=>(r=null!=e?tT(tR(e)):{},tj(!t&&e&&e.__esModule?r:tx(r,"default",{value:e,enumerable:!0}),e)),tD=(p={"../../node_modules/.pnpm/cookie@0.5.0/node_modules/cookie/index.js"(e){e.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},i=(t||{}).decode||n,s=0;s<e.length;){var o=e.indexOf("=",s);if(-1===o)break;var a=e.indexOf(";",s);if(-1===a)a=e.length;else if(a<o){s=e.lastIndexOf(";",o-1)+1;continue}var l=e.slice(s,o).trim();if(void 0===r[l]){var u=e.slice(o+1,a).trim();34===u.charCodeAt(0)&&(u=u.slice(1,-1)),r[l]=function(e,t){try{return t(e)}catch(t){return e}}(u,i)}s=a+1}return r},e.serialize=function(e,n,s){var o=s||{},a=o.encode||i;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!r.test(e))throw TypeError("argument name is invalid");var l=a(n);if(l&&!r.test(l))throw TypeError("argument val is invalid");var u=e+"="+l;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(o.domain){if(!r.test(o.domain))throw TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!r.test(o.path))throw TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){var h=o.expires;if("[object Date]"!==t.call(h)&&!(h instanceof Date)||isNaN(h.valueOf()))throw TypeError("option expires is invalid");u+="; Expires="+h.toUTCString()}if(o.httpOnly&&(u+="; HttpOnly"),o.secure&&(u+="; Secure"),o.priority)switch("string"==typeof o.priority?o.priority.toLowerCase():o.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var t=Object.prototype.toString,r=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function n(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function i(e){return encodeURIComponent(e)}}},function(){return m||(0,p[tI(p)[0]])((m={exports:{}}).exports,m),m.exports}),tM=tN(tD()),tL=tN(tD());function tF(e){if(!e)return null;try{let t=JSON.parse(e);if(!t)return null;if("Object"===t.constructor.name)return t;if("Array"!==t.constructor.name)throw Error(`Unexpected format: ${t.constructor.name}`);let[r,n,i]=t[0].split("."),s=T(n),o=new TextDecoder,{exp:a,sub:l,...u}=JSON.parse(o.decode(s));return{expires_at:a,expires_in:a-Math.round(Date.now()/1e3),token_type:"bearer",access_token:t[0],refresh_token:t[1],provider_token:t[2],provider_refresh_token:t[3],user:{id:l,factors:t[4],...u}}}catch(e){return console.warn("Failed to parse cookie string:",e),null}}function tU(e){var t;return JSON.stringify([e.access_token,e.refresh_token,e.provider_token,e.provider_refresh_token,(null==(t=e.user)?void 0:t.factors)??null])}function t$(){return"undefined"!=typeof window&&void 0!==window.document}var tq={path:"/",maxAge:31536e6},tz=class{constructor(e){this.cookieOptions={...tq,...e}}getItem(e){let t=this.getCookie(e);return t?e.endsWith("-code-verifier")?t:JSON.stringify(tF(t)):null}setItem(e,t){if(e.endsWith("-code-verifier")){this.setCookie(e,t);return}let r=tU(JSON.parse(t));this.setCookie(e,r)}removeItem(e){this.deleteCookie(e)}},tQ=class extends tz{constructor(e){super(e)}getCookie(e){return t$()?(0,tM.parse)(document.cookie)[e]:null}setCookie(e,t){if(!t$())return null;document.cookie=(0,tM.serialize)(e,t,{...this.cookieOptions,httpOnly:!1})}deleteCookie(e){if(!t$())return null;document.cookie=(0,tM.serialize)(e,"",{...this.cookieOptions,maxAge:0,httpOnly:!1})}};function tB(e,t,r){var n;let i=t$();return tk(e,t,{...r,auth:{flowType:"pkce",autoRefreshToken:i,detectSessionInUrl:i,persistSession:!0,storage:r.auth.storage,...(null==(n=r.auth)?void 0:n.storageKey)?{storageKey:r.auth.storageKey}:{}}})}var tJ=tL.parse,tK=tL.serialize;/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */},86501:function(e,t,r){"use strict";let n,i;r.d(t,{x7:function(){return eh},ZP:function(){return ed},Am:function(){return F}});var s,o=r(67294);let a={data:""},l=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||a,u=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,c=/\/\*[^]*?\*\/|  +/g,h=/\n+/g,d=(e,t)=>{let r="",n="",i="";for(let s in e){let o=e[s];"@"==s[0]?"i"==s[1]?r=s+" "+o+";":n+="f"==s[1]?d(o,s):s+"{"+d(o,"k"==s[1]?"":t)+"}":"object"==typeof o?n+=d(o,t?t.replace(/([^,])+/g,e=>s.replace(/(^:.*)|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=d.p?d.p(s,o):s+":"+o+";")}return r+(t&&i?t+"{"+i+"}":i)+n},f={},p=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+p(e[r]);return t}return e},m=(e,t,r,n,i)=>{var s;let o=p(e),a=f[o]||(f[o]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(o));if(!f[a]){let t=o!==e?e:(e=>{let t,r,n=[{}];for(;t=u.exec(e.replace(c,""));)t[4]?n.shift():t[3]?(r=t[3].replace(h," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(h," ").trim();return n[0]})(e);f[a]=d(i?{["@keyframes "+a]:t}:t,r?"":"."+a)}let l=r&&f.g?f.g:null;return r&&(f.g=f[a]),s=f[a],l?t.data=t.data.replace(l,s):-1===t.data.indexOf(s)&&(t.data=n?s+t.data:t.data+s),a},y=(e,t,r)=>e.reduce((e,n,i)=>{let s=t[i];if(s&&s.call){let e=s(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":d(e,""):!1===e?"":e}return e+n+(null==s?"":s)},"");function g(e){let t=this||{},r=e.call?e(t.p):e;return m(r.unshift?r.raw?y(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,l(t.target),t.g,t.o,t.k)}g.bind({g:1});let v,b,w,_=g.bind({k:1});function E(e,t){let r=this||{};return function(){let n=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;r.p=Object.assign({theme:b&&b()},a),r.o=/ *go\d+/.test(l),a.className=g.apply(r,n)+(l?" "+l:""),t&&(a.ref=o);let u=e;return e[0]&&(u=a.as||e,delete a.as),w&&u[0]&&w(a),v(u,a)}return t?t(i):i}}var S=e=>"function"==typeof e,O=(e,t)=>S(e)?e(t):e,C=(n=0,()=>(++n).toString()),k=()=>{if(void 0===i&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i},T=new Map,x=e=>{if(T.has(e))return;let t=setTimeout(()=>{T.delete(e),j({type:4,toastId:e})},1e3);T.set(e,t)},P=e=>{let t=T.get(e);t&&clearTimeout(t)},I=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&P(t.toast.id),{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return e.toasts.find(e=>e.id===r.id)?I(e,{type:1,toast:r}):I(e,{type:0,toast:r});case 3:let{toastId:n}=t;return n?x(n):e.toasts.forEach(e=>{x(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+i}))}}},R=[],A={toasts:[],pausedAt:void 0},j=e=>{A=I(A,e),R.forEach(e=>{e(A)})},N={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},D=(e={})=>{let[t,r]=(0,o.useState)(A);(0,o.useEffect)(()=>(R.push(r),()=>{let e=R.indexOf(r);e>-1&&R.splice(e,1)}),[t]);let n=t.toasts.map(t=>{var r,n;return{...e,...e[t.type],...t,duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||N[t.type],style:{...e.style,...null==(n=e[t.type])?void 0:n.style,...t.style}}});return{...t,toasts:n}},M=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||C()}),L=e=>(t,r)=>{let n=M(t,e,r);return j({type:2,toast:n}),n.id},F=(e,t)=>L("blank")(e,t);F.error=L("error"),F.success=L("success"),F.loading=L("loading"),F.custom=L("custom"),F.dismiss=e=>{j({type:3,toastId:e})},F.remove=e=>j({type:4,toastId:e}),F.promise=(e,t,r)=>{let n=F.loading(t.loading,{...r,...null==r?void 0:r.loading});return e.then(e=>(F.success(O(t.success,e),{id:n,...r,...null==r?void 0:r.success}),e)).catch(e=>{F.error(O(t.error,e),{id:n,...r,...null==r?void 0:r.error})}),e};var U=(e,t)=>{j({type:1,toast:{id:e,height:t}})},$=()=>{j({type:5,time:Date.now()})},q=e=>{let{toasts:t,pausedAt:r}=D(e);(0,o.useEffect)(()=>{if(r)return;let e=Date.now(),n=t.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(r<0){t.visible&&F.dismiss(t.id);return}return setTimeout(()=>F.dismiss(t.id),r)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[t,r]);let n=(0,o.useCallback)(()=>{r&&j({type:6,time:Date.now()})},[r]),i=(0,o.useCallback)((e,r)=>{let{reverseOrder:n=!1,gutter:i=8,defaultPosition:s}=r||{},o=t.filter(t=>(t.position||s)===(e.position||s)&&t.height),a=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<a&&e.visible).length;return o.filter(e=>e.visible).slice(...n?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[t]);return{toasts:t,handlers:{updateHeight:U,startPause:$,endPause:n,calculateOffset:i}}},z=_`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Q=_`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,B=_`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,J=E("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Q} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${B} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,K=_`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,H=E("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${K} 1s linear infinite;
`,V=_`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Y=_`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,G=E("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${V} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Y} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,X=E("div")`
  position: absolute;
`,W=E("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Z=_`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ee=E("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Z} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,et=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return void 0!==t?"string"==typeof t?o.createElement(ee,null,t):t:"blank"===r?null:o.createElement(W,null,o.createElement(H,{...n}),"loading"!==r&&o.createElement(X,null,"error"===r?o.createElement(J,{...n}):o.createElement(G,{...n})))},er=e=>`
0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,en=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}
`,ei=E("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,es=E("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,eo=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=k()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[er(r),en(r)];return{animation:t?`${_(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ea=o.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?eo(e.position||t||"top-center",e.visible):{opacity:0},s=o.createElement(et,{toast:e}),a=o.createElement(es,{...e.ariaProps},O(e.message,e));return o.createElement(ei,{className:e.className,style:{...i,...r,...e.style}},"function"==typeof n?n({icon:s,message:a}):o.createElement(o.Fragment,null,s,a))});s=o.createElement,d.p=void 0,v=s,b=void 0,w=void 0;var el=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let s=o.useCallback(t=>{if(t){let r=()=>{n(e,t.getBoundingClientRect().height)};r(),new MutationObserver(r).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return o.createElement("div",{ref:s,className:t,style:r},i)},eu=(e,t)=>{let r=e.includes("top"),n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:k()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...r?{top:0}:{bottom:0},...n}},ec=g`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,eh=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:l,handlers:u}=q(r);return o.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...s},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(r=>{let s=r.position||t,a=eu(s,u.calculateOffset(r,{reverseOrder:e,gutter:n,defaultPosition:t}));return o.createElement(el,{id:r.id,key:r.id,onHeightUpdate:u.updateHeight,className:r.visible?ec:"",style:a},"custom"===r.type?O(r.message,r):i?i(r):o.createElement(ea,{toast:r,position:s}))}))},ed=F},12544:function(e,t,r){"use strict";r.d(t,{ZP:function(){return Y}});class n{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class i{constructor(e){this.generateIdentifier=e,this.kv=new n}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class s extends i{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){"object"==typeof t?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function o(e,t){Object.entries(e).forEach(([e,r])=>t(r,e))}function a(e,t){return -1!==e.indexOf(t)}function l(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(t(n))return n}}class u{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return function(e,t){let r=function(e){if("values"in Object)return Object.values(e);let t=[];for(let r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}(e);if("find"in r)return r.find(t);for(let e=0;e<r.length;e++){let n=r[e];if(t(n))return n}}(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}}let c=e=>Object.prototype.toString.call(e).slice(8,-1),h=e=>void 0===e,d=e=>null===e,f=e=>"object"==typeof e&&null!==e&&e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype),p=e=>f(e)&&0===Object.keys(e).length,m=e=>Array.isArray(e),y=e=>"string"==typeof e,g=e=>"number"==typeof e&&!isNaN(e),v=e=>"boolean"==typeof e,b=e=>e instanceof Map,w=e=>e instanceof Set,_=e=>"Symbol"===c(e),E=e=>"number"==typeof e&&isNaN(e),S=e=>v(e)||d(e)||h(e)||g(e)||y(e)||_(e),O=e=>e===1/0||e===-1/0,C=e=>e.replace(/\./g,"\\."),k=e=>e.map(String).map(C).join("."),T=e=>{let t=[],r="";for(let n=0;n<e.length;n++){let i=e.charAt(n);if("\\"===i&&"."===e.charAt(n+1)){r+=".",n++;continue}if("."===i){t.push(r),r="";continue}r+=i}let n=r;return t.push(n),t};function x(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}let P=[x(h,"undefined",()=>null,()=>void 0),x(e=>"bigint"==typeof e,"bigint",e=>e.toString(),e=>"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),x(e=>e instanceof Date&&!isNaN(e.valueOf()),"Date",e=>e.toISOString(),e=>new Date(e)),x(e=>e instanceof Error,"Error",(e,t)=>{let r={name:e.name,message:e.message};return t.allowedErrorProps.forEach(t=>{r[t]=e[t]}),r},(e,t)=>{let r=Error(e.message);return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(t=>{r[t]=e[t]}),r}),x(e=>e instanceof RegExp,"regexp",e=>""+e,e=>new RegExp(e.slice(1,e.lastIndexOf("/")),e.slice(e.lastIndexOf("/")+1))),x(w,"set",e=>[...e.values()],e=>new Set(e)),x(b,"map",e=>[...e.entries()],e=>new Map(e)),x(e=>E(e)||O(e),"number",e=>E(e)?"NaN":e>0?"Infinity":"-Infinity",Number),x(e=>0===e&&1/e==-1/0,"number",()=>"-0",Number),x(e=>e instanceof URL,"URL",e=>e.toString(),e=>new URL(e))];function I(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}let R=I((e,t)=>!!_(e)&&!!t.symbolRegistry.getIdentifier(e),(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,r)=>{let n=r.symbolRegistry.getValue(t[1]);if(!n)throw Error("Trying to deserialize unknown symbol");return n}),A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),j=I(e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{let r=A[t[1]];if(!r)throw Error("Trying to deserialize unknown typed array");return new r(e)});function N(e,t){return!!e?.constructor&&!!t.classRegistry.getIdentifier(e.constructor)}let D=I(N,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{let r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return{...e};let n={};return r.forEach(t=>{n[t]=e[t]}),n},(e,t,r)=>{let n=r.classRegistry.getValue(t[1]);if(!n)throw Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(n.prototype),e)}),M=I((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,r)=>{let n=r.customTransformerRegistry.findByName(t[1]);if(!n)throw Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),L=[D,R,M,j],F=(e,t)=>{let r=l(L,r=>r.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};let n=l(P,r=>r.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation}},U={};P.forEach(e=>{U[e.annotation]=e});let $=(e,t,r)=>{if(m(t))switch(t[0]){case"symbol":return R.untransform(e,t,r);case"class":return D.untransform(e,t,r);case"custom":return M.untransform(e,t,r);case"typed-array":return j.untransform(e,t,r);default:throw Error("Unknown transformation: "+t)}else{let n=U[t];if(!n)throw Error("Unknown transformation: "+t);return n.untransform(e,r)}},q=(e,t)=>{let r=e.keys();for(;t>0;)r.next(),t--;return r.next().value};function z(e){if(a(e,"__proto__"))throw Error("__proto__ is not allowed as a property");if(a(e,"prototype"))throw Error("prototype is not allowed as a property");if(a(e,"constructor"))throw Error("constructor is not allowed as a property")}let Q=(e,t)=>{z(t);for(let r=0;r<t.length;r++){let n=t[r];if(w(e))e=q(e,+n);else if(b(e)){let i=+n,s=0==+t[++r]?"key":"value",o=q(e,i);switch(s){case"key":e=o;break;case"value":e=e.get(o)}}else e=e[n]}return e},B=(e,t,r)=>{if(z(t),0===t.length)return r(e);let n=e;for(let e=0;e<t.length-1;e++){let r=t[e];if(m(n))n=n[+r];else if(f(n))n=n[r];else if(w(n))n=q(n,+r);else if(b(n)){if(e===t.length-2)break;let i=+r,s=0==+t[++e]?"key":"value",o=q(n,i);switch(s){case"key":n=o;break;case"value":n=n.get(o)}}}let i=t[t.length-1];if(m(n)?n[+i]=r(n[+i]):f(n)&&(n[i]=r(n[i])),w(n)){let e=q(n,+i),t=r(e);e!==t&&(n.delete(e),n.add(t))}if(b(n)){let e=q(n,+t[t.length-2]);switch(0==+i?"key":"value"){case"key":{let t=r(e);n.set(t,n.get(e)),t!==e&&n.delete(e);break}case"value":n.set(e,r(n.get(e)))}}return e},J=(e,t)=>f(e)||m(e)||b(e)||w(e)||N(e,t),K=(e,t,r,n,i=[],s=[],l=new Map)=>{let u=S(e);if(!u){!function(e,t,r){let n=r.get(e);n?n.push(t):r.set(e,[t])}(e,i,t);let r=l.get(e);if(r)return n?{transformedValue:null}:r}if(!J(e,r)){let t=F(e,r),n=t?{transformedValue:t.value,annotations:[t.type]}:{transformedValue:e};return u||l.set(e,n),n}if(a(s,e))return{transformedValue:null};let c=F(e,r),h=c?.value??e,d=m(h)?[]:{},y={};o(h,(a,u)=>{if("__proto__"===u||"constructor"===u||"prototype"===u)throw Error(`Detected property ${u}. This is a prototype pollution risk, please remove it from your object.`);let c=K(a,t,r,n,[...i,u],[...s,e],l);d[u]=c.transformedValue,m(c.annotations)?y[u]=c.annotations:f(c.annotations)&&o(c.annotations,(e,t)=>{y[C(u)+"."+t]=e})});let g=p(y)?{transformedValue:d,annotations:c?[c.type]:void 0}:{transformedValue:d,annotations:c?[c.type,y]:y};return u||l.set(e,g),g};function H(e){return Object.prototype.toString.call(e).slice(8,-1)}function V(e){return"Array"===H(e)}class Y{constructor({dedupe:e=!1}={}){this.classRegistry=new s,this.symbolRegistry=new i(e=>e.description??""),this.customTransformerRegistry=new u,this.allowedErrorProps=[],this.dedupe=e}serialize(e){let t=new Map,r=K(e,t,this,this.dedupe),n={json:r.transformedValue};r.annotations&&(n.meta={...n.meta,values:r.annotations});let i=function(e,t){let r;let n={};return(e.forEach(e=>{if(e.length<=1)return;t||(e=e.map(e=>e.map(String)).sort((e,t)=>e.length-t.length));let[i,...s]=e;0===i.length?r=s.map(k):n[k(i)]=s.map(k)}),r)?p(n)?[r]:[r,n]:p(n)?void 0:n}(t,this.dedupe);return i&&(n.meta={...n.meta,referentialEqualities:i}),n}deserialize(e){let{json:t,meta:r}=e,n=function e(t,r={}){return V(t)?t.map(t=>e(t,r)):!function(e){if("Object"!==H(e))return!1;let t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}(t)?t:[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)].reduce((n,i)=>{if(V(r.props)&&!r.props.includes(i))return n;let s=e(t[i],r);return!function(e,t,r,n,i){let s=({}).propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";"enumerable"===s&&(e[t]=r),i&&"nonenumerable"===s&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}(n,i,s,t,r.nonenumerable),n},{})}(t);if(r?.values){var i,s,a;i=n,s=r.values,a=this,function e(t,r,n=[]){if(!t)return;if(!m(t)){o(t,(t,i)=>e(t,r,[...n,...T(i)]));return}let[i,s]=t;s&&o(s,(t,i)=>{e(t,r,[...n,...T(i)])}),r(i,n)}(s,(e,t)=>{i=B(i,t,t=>$(t,e,a))}),n=i}return r?.referentialEqualities&&(n=function(e,t){function r(t,r){let n=Q(e,T(r));t.map(T).forEach(t=>{e=B(e,t,()=>n)})}if(m(t)){let[n,i]=t;n.forEach(t=>{e=B(e,T(t),()=>e)}),i&&o(i,r)}else o(t,r);return e}(n,r.referentialEqualities)),n}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}Y.defaultInstance=new Y,Y.serialize=Y.defaultInstance.serialize.bind(Y.defaultInstance),Y.deserialize=Y.defaultInstance.deserialize.bind(Y.defaultInstance),Y.stringify=Y.defaultInstance.stringify.bind(Y.defaultInstance),Y.parse=Y.defaultInstance.parse.bind(Y.defaultInstance),Y.registerClass=Y.defaultInstance.registerClass.bind(Y.defaultInstance),Y.registerSymbol=Y.defaultInstance.registerSymbol.bind(Y.defaultInstance),Y.registerCustom=Y.defaultInstance.registerCustom.bind(Y.defaultInstance),Y.allowErrorProps=Y.defaultInstance.allowErrorProps.bind(Y.defaultInstance),Y.serialize,Y.deserialize,Y.stringify,Y.parse,Y.registerClass,Y.registerCustom,Y.registerSymbol,Y.allowErrorProps},64529:function(e,t,r){"use strict";r.d(t,{Ue:function(){return h}});let n=e=>{let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,s={setState:n,getState:i,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return t=e(n,i,s),s},i=e=>e?n(e):n;var s=r(67294),o=r(52798);let{useDebugValue:a}=s,{useSyncExternalStoreWithSelector:l}=o,u=!1,c=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?i(e):e,r=(e,r)=>(function(e,t=e.getState,r){r&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);let n=l(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return a(n),n})(t,e,r);return Object.assign(r,t),r},h=e=>e?c(e):c}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],function(){return t(6840),t(12937)}),_N_E=e.O()}]);